<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Python 数据结构之 Dict and Set - When Art Meets Tech</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="When Art Meets Tech"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="When Art Meets Tech"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="Python 基本数据类型，前面已经认识了 Pthon 中的数字(Number)、字符串(String）、元组(Tuple)、列表(List)。接下来来看 Python 中的 字典（Dict） 和 集合（Set）。"><meta property="og:type" content="blog"><meta property="og:title" content="Python 数据结构之 Dict and Set"><meta property="og:url" content="https://www.orangeshare.cn/2018/01/07/python-shu-ju-jie-gou-zhi-dict-and-set/"><meta property="og:site_name" content="When Art Meets Tech"><meta property="og:description" content="Python 基本数据类型，前面已经认识了 Pthon 中的数字(Number)、字符串(String）、元组(Tuple)、列表(List)。接下来来看 Python 中的 字典（Dict） 和 集合（Set）。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.orangeshare.cn/img/og_image.png"><meta property="article:published_time" content="2018-01-07T07:39:03.000Z"><meta property="article:modified_time" content="2022-03-17T15:17:27.406Z"><meta property="article:author" content="Waldeinsamkeit"><meta property="article:tag" content="DataType"><meta property="article:tag" content="Python"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.orangeshare.cn/2018/01/07/python-shu-ju-jie-gou-zhi-dict-and-set/"},"headline":"When Art Meets Tech","image":["https://www.orangeshare.cn/img/og_image.png"],"datePublished":"2018-01-07T07:39:03.000Z","dateModified":"2022-03-17T15:17:27.406Z","author":{"@type":"Person","name":"Waldeinsamkeit"},"description":"Python 基本数据类型，前面已经认识了 Pthon 中的数字(Number)、字符串(String）、元组(Tuple)、列表(List)。接下来来看 Python 中的 字典（Dict） 和 集合（Set）。"}</script><link rel="canonical" href="https://www.orangeshare.cn/2018/01/07/python-shu-ju-jie-gou-zhi-dict-and-set/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.2.0"></head>    <body class="is-3-column">    <nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="When Art Meets Tech" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Hexo Search" href="https://hexo.io/zh-cn/"><i class="fab fa-hotjar"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><i class="fas fa-angle-double-right"></i>Python 数据结构之 Dict and Set</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="${date_xml(page.date)}" title="${date_xml(page.date)}">2018-01-07</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="${date_xml(page.updated)}" title="${date_xml(page.updated)}">2022-03-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a></span><span class="level-item">an hour read (About 8056 words)</span></div></div><div class="content"><p>Python 基本数据类型，前面已经认识了 Pthon 中的数字(Number)、字符串(String）、元组(Tuple)、列表(List)。接下来来看 Python 中的 <strong>字典（Dict）</strong> 和 <strong>集合（Set）</strong>。</p>
<a id="more"></a>

<p>Python 中的字典（Dict）和集合（Set）容器模型：</p>
<h2 id="字典（Dict）"><a href="#字典（Dict）" class="headerlink" title="字典（Dict）"></a>字典（Dict）</h2><p>Python 中另一个非常有用的内置数据类型是字典（Dictionary），相当于其他语言中的 <strong>Map</strong>（表征映射关系）。</p>
<h3 id="认识字典"><a href="#认识字典" class="headerlink" title="认识字典"></a>认识字典</h3><p>Python 字典（dict）是一种 <strong>无序的、可变的</strong> 数据集，它的元素是以 <strong>“键值对（key-value）”</strong> 的形式存储，是 Python 中唯一的 <strong>映射类型</strong>。</p>
<p><strong>映射</strong> 是数学中的术语，简单理解，它指的是元素之间相互对应的关系，即通过一个元素，可以唯一找到另一个元素。</p>
<p>例如，期中考试小明、小红、小刚分别考了 95、90 和 90 分。结合之前的知识，自然而然，我们想到了使用列表的形式来存放上述数据，我们需要新创建一个列表来专门放分数，而且要保证和姓名的顺序是一致的，这是很麻烦。</p>
<p>字典的出现，为我们提供了一种更好的方式来 <strong>表达这种具有映射关系的数据</strong>（小明 –&gt; 95，小红 –&gt; 90，小刚 –&gt; 90）。</p>
<p>事实上，字典类型很像我们学生时代常用的新华字典。我们知道，通过新华字典中的音节表，可以快速找到想要查找的汉字。其中，字典里的音节表就相当于字典类型中的键（Key），而键对应的汉字则相当于值（Value）。</p>
<p><strong>Key-Value &gt;&gt;&gt;&gt;</strong></p>
<p>类似于 List &amp;&amp; tuple，字典中，习惯将各元素对应的索引称为键（key），各个键对应的元素称为值（value），一起构成了 “key-value” (键值对)。</p>
<p>通过键（Key）来获取相应值（Value）的模式（key-value）要求：</p>
<ul>
<li>key（键）字典中的键必须唯一，且不可变（只能使用数字、字符串或者元组，不能使用列表）；</li>
<li>value（值）是无序、可变的元素对象，可以是 Python 支持的任意数据类型。</li>
</ul>
<p><strong>小结：</strong>字典（dict）是 Python 中一种无序、可变的，采用 <code>key-value</code> 键值对来表述具有映射关系数据的内置数据类型。</p>
<hr>
<h3 id="字典的构建"><a href="#字典的构建" class="headerlink" title="字典的构建"></a>字典的构建</h3><p>创建字典的方式有很多，下面开始一一介绍：</p>
<p><strong>[1] &gt;&gt;&gt;&gt; 字典的标准创建格式:</strong></p>
<p>字典的标准创建格式很简单，用大括号 <code>&#123; &#125;</code> 来标识。它是一个无序的 <strong>key:value</strong> 键值对的集合，相邻元素之间使用逗号 <code>,</code> 分隔：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;key1 : value1, key2 : value2 &#125;</span><br></pre></td></tr></table></figure>

<p>代码示范：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用字符串作为key</span></span><br><span class="line">students_scores = &#123;<span class="string">&#x27;小明&#x27;</span>:<span class="number">95</span>, <span class="string">&#x27;小红&#x27;</span>:<span class="number">90</span>, <span class="string">&#x27;小刚&#x27;</span>:<span class="number">90</span>&#125;</span><br><span class="line">print(students_scores)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用元组和数字作为 key</span></span><br><span class="line">dict1 = &#123;(<span class="number">20</span>, <span class="number">30</span>):<span class="string">&#x27;great&#x27;</span>, <span class="number">30</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;</span><br><span class="line">print(dict1)</span><br></pre></td></tr></table></figure>

<p>可以看到，字典的键可以是整数、字符串或者元组，只要符合唯一和不可变的特性就行；字典的值可以是 Python 支持的任意数据类型。</p>
<p><strong>空字典 &gt;&gt;&gt;&gt;</strong></p>
<p>使用此方式创建字典时，字典中 key-value 可以有多个，也可以一个都没有（空字典），例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; emptydict = &#123;&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; emptydict</span></span><br><span class="line">&#123;&#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">type</span>(emptydict)</span></span><br><span class="line">&lt;class &#x27;dict&#x27;&gt;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[2] &gt;&gt;&gt;&gt; fromkeys() 字典方法创建:</strong></p>
<p>Python dict 中，提供了 <code>fromkeys()</code> 方法来根据 Key 列表创建带有默认值的字典，具体格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dictname = <span class="built_in">dict</span>.fromkeys(<span class="built_in">list</span>，value=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>其中，<code>list</code> 参数表示字典中所有键的列表（list）；value 参数表示默认值，如果不写，则为空值 None。</p>
<p>例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; knowledge = [<span class="string">&#x27;语文&#x27;</span>, <span class="string">&#x27;数学&#x27;</span>, <span class="string">&#x27;英语&#x27;</span>]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; scores = dict.fromkeys(knowledge, 60)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(scores)</span></span><br><span class="line">&#123;&#x27;语文&#x27;: 60, &#x27;数学&#x27;: 60, &#x27;英语&#x27;: 60&#125;</span><br></pre></td></tr></table></figure>

<p>这种创建方式通常用于初始化字典，设置 value 的默认值。</p>
<hr>
<p><strong>[3] &gt;&gt;&gt;&gt; dict() 内建函数创建字典:</strong></p>
<p>语法规则如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">dict</span>(<span class="params">**kwarg</span>)	# 传入关键字</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">dict</span>(<span class="params">mapping, **kwarg</span>)	# 映射函数方式来构造字典</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">dict</span>(<span class="params">iterable, **kwarg</span>)	# 可迭代对象方式来构造字典</span></span><br></pre></td></tr></table></figure>

<p>官方是这么解释的：</p>
<p>dict() 方法会返回一个新的字典，并且基于可选的位置参数（mapping 或者 iterable）和可能为空的关键字（Key）参数集来初始化新字典。</p>
<ul>
<li>如果没有给出位置参数以及关键字参数集，将创建一个空字典;</li>
<li>如果给出一个位置参数并且其属于映射对象（<code>mapping</code>），将创建一个具有与映射对象相同键值对的字典;否则的话，位置参数必须为一个 <code>iterable</code> 对象。 该可迭代对象中的每一项本身必须为一个刚好包含两个元素的可迭代对象。 每一项中的第一个对象将成为新字典的一个键，第二个对象将成为其对应的值。 如果一个键出现一次以上，该键的最后一个值将成为其在新字典中对应的值；</li>
<li>如果给出了关键字参数集（key-vaule），则关键字参数及其值（例如：one=1）会被加入到基于位置参数创建的字典。 如果要加入的键已存在，来自关键字参数的值将替代来自位置参数的值。</li>
</ul>
<p>详细示例如下（请对照参看）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="comment"># 没有给出位置参数以及关键字参数集</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict1 = dict()</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict1</span></span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="comment"># 1. 给出位置参数且其属于映射对象（`mapping`）</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict2 = dict(zip([<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>], [1, 2, 3]))</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict2</span></span><br><span class="line">&#123;&#x27;one&#x27;: 1, &#x27;two&#x27;: 2, &#x27;three&#x27;: 3&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="comment"># 2. 给出位置参数且是一个 `iterable` 对象（List 或者 元组 或者字典）</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> List</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict3 = dict([(<span class="string">&#x27;two&#x27;</span>,2), (<span class="string">&#x27;one&#x27;</span>,1), (<span class="string">&#x27;three&#x27;</span>,3)])</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict3</span></span><br><span class="line">&#123;&#x27;two&#x27;: 2, &#x27;one&#x27;: 1, &#x27;three&#x27;: 3&#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict4 = dict([[<span class="string">&#x27;two&#x27;</span>,2], [<span class="string">&#x27;one&#x27;</span>,1], [<span class="string">&#x27;three&#x27;</span>,3]])</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict4</span></span><br><span class="line">&#123;&#x27;two&#x27;: 2, &#x27;one&#x27;: 1, &#x27;three&#x27;: 3&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Tuple</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict5 = dict(([<span class="string">&#x27;two&#x27;</span>,2], [<span class="string">&#x27;one&#x27;</span>,1], [<span class="string">&#x27;three&#x27;</span>,3]))</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict5</span></span><br><span class="line">&#123;&#x27;two&#x27;: 2, &#x27;one&#x27;: 1, &#x27;three&#x27;: 3&#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict5 = dict(((<span class="string">&#x27;two&#x27;</span>,2), (<span class="string">&#x27;one&#x27;</span>,1), (<span class="string">&#x27;three&#x27;</span>,3)))</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict5</span></span><br><span class="line">&#123;&#x27;two&#x27;: 2, &#x27;one&#x27;: 1, &#x27;three&#x27;: 3&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Dict</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict6 = dict(&#123;<span class="string">&#x27;three&#x27;</span>: 3, <span class="string">&#x27;one&#x27;</span>: 1, <span class="string">&#x27;two&#x27;</span>: 2&#125;)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict6</span></span><br><span class="line">&#123;&#x27;three&#x27;: 3, &#x27;one&#x27;: 1, &#x27;two&#x27;: 2&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="comment"># 3. 给出位置参数（dict）以及关键字参数集（two=2）</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict7 = dict(&#123;<span class="string">&#x27;one&#x27;</span>: 1, <span class="string">&#x27;three&#x27;</span>: 3&#125;, two=2)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict7</span></span><br><span class="line">&#123;&#x27;one&#x27;: 1, &#x27;three&#x27;: 3, &#x27;two&#x27;: 2&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证字典的无序性</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict1 == dict2 == dict3 == dict4 == dict5 == dict6 == dict7</span></span><br><span class="line">False</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[4] &gt;&gt;&gt;&gt; 推导式方法创建字典：</strong></p>
<p>和列表的推导式方法定义类似，我们同样还可以使用推导式的方法创建字典：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;x:x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> (<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>)&#125;</span><br><span class="line">&#123;<span class="number">2</span>: <span class="number">4</span>, <span class="number">4</span>: <span class="number">16</span>, <span class="number">6</span>: <span class="number">36</span>, <span class="number">8</span>: <span class="number">64</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="字典的删除"><a href="#字典的删除" class="headerlink" title="字典的删除"></a>字典的删除</h3><p>和删除列表、元组一样，手动删除字典也可以使用 del 关键字，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a = dict(two=0.65, one=88, three=100, four=-59)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(a)</span></span><br><span class="line">&#123;&#x27;two&#x27;: 0.65, &#x27;one&#x27;: 88, &#x27;three&#x27;: 100, &#x27;four&#x27;: -59&#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; del a</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(a)</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">    File &quot;C:\Users\mozhiyan\Desktop\demo.py&quot;, line 4, in &lt;module&gt;</span><br><span class="line">        print(a)</span><br><span class="line">NameError: name &#x27;a&#x27; is not defined</span><br></pre></td></tr></table></figure>

<p>Python 自带垃圾回收功能，会自动销毁不用的字典，所以一般不需要通过 del 来手动删除。</p>
<hr>
<h3 id="深入解读-Key-Value-键值对"><a href="#深入解读-Key-Value-键值对" class="headerlink" title="深入解读 Key-Value 键值对"></a>深入解读 Key-Value 键值对</h3><p>我们知道，字典中存放的就是具有映射关系的 <code>key:value</code> 无序数据，键值对可以很好的表征字典（Dict）的映射特性。</p>
<p>并且，键值对中的键（<strong>Key</strong>）必须是不可变类型（Number，Str 或者 Tuple，常用的是数值或字符串），且必须唯一；而值则可以是 Python 支持的任意类型对象。</p>
<p>映射数据场景下，通过 List 来比较一下 Dict 的优势：</p>
<p><strong>[1] &gt;&gt;&gt;&gt; list &amp;&amp; dict 场景模拟</strong></p>
<p>举个例子，假设要根据公司员工的名字查找对应的薪资，如果用 list 实现，需要两个 list：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; names = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;360&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; salary = [5888, 3888, 2888, 4300]</span></span><br></pre></td></tr></table></figure>

<p>给定一个名字，要查找对应的薪资，就先要在 <code>names</code> 中找到对应的位置（索引），再利用索引从 <code>salary</code> 取出对应的成绩。且 list 越长，耗时越长。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; indx = names.index(<span class="string">&quot;Opera&quot;</span>)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; salary[indx]</span></span><br><span class="line">4300</span><br></pre></td></tr></table></figure>

<p>但如果使用 dict 实现，只需要一个 <strong>名字:薪资</strong> 的对照表，直接根据名字查找薪资。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>:<span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>:<span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>:<span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>:<span class="number">4300</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff[<span class="string">&quot;Opera&quot;</span>]</span><br><span class="line"><span class="number">4300</span></span><br></pre></td></tr></table></figure>

<p>相较于 List 的使用，键值对（key-value）的引入带来了访问性能上的提升，使得字典具有极快的查找速度。而且无论这个表有多大，查找速度都不会变慢。</p>
<hr>
<p><strong>[2] &gt;&gt;&gt;&gt; 键值对（Key-Value）检索模式</strong></p>
<p>很迷惑啊！键值对到底干了啥？如何理解？？？ &gt;&gt;&gt;&gt; dict 之所以查找速度这么快，是因为其实现原理和查字典是一样的。</p>
<p>假设字典包含了 1 万个汉字，我们要查某一个字：</p>
<p>–&gt; 第一种办法（list 方法）：</p>
<p>把字典从第一页往后翻，直到找到我们想要的字为止，这种方法就是在 list 中查找元素的方法，list 越大，查找越慢。</p>
<p>–&gt; 第二种方法（dict 方法）：</p>
<p>先在字典的索引表里（比如部首表）查这个字对应的页码，然后直接翻到该页，找到这个字。无论找哪个字，这种查找速度都非常快，不会随着字典大小的增加而变慢。</p>
<p>字典（dict）就是第二种实现方式，给定一个名字，比如 <code>Opera</code>，dict 在内部就可以直接计算出 <code>Opera</code> 对应的存放薪资的“页码”，也就是 <code>4300</code> 这个数字存放的内存地址，直接取出来，所以速度非常快。</p>
<p>可以猜想到，这种 <code>key-value</code> 存储方式，在放进去的时候，必须根据 <code>key</code> 算出 <code>value</code> 的存放位置，这样，取的时候才能根据 <code>key</code> 直接拿到 <code>value</code>。</p>
<hr>
<p><strong>[3] &gt;&gt;&gt;&gt; Dict VS List</strong></p>
<p>和 list 比较，dict 有以下几个特点：</p>
<ol>
<li>查找和插入的速度极快，不会随着 key 的增加而变慢；</li>
<li>需要占用大量的内存，内存浪费多。</li>
</ol>
<p>而 list 刚好相反：</p>
<ol>
<li>查找和插入的时间随着元素的增加而增加；</li>
<li>占用空间小，浪费内存很少。</li>
</ol>
<p>所以，dict 是用空间来换取时间的一种方法，用在需要高速查找的很多地方。</p>
<p><strong>[4] &gt;&gt;&gt;&gt; 键（Key）唯一不可变解释</strong></p>
<p>正确使用 dict 非常重要，需要牢记的第一条就是 dict 的 <code>key</code> 必须是<strong>唯一、不可变对象</strong>。</p>
<p>这是因为 dict 需要根据 <code>key</code> 来计算 <code>value</code> 的存储位置，如果每次计算相同的 <code>key</code> 得出的结果不同，那 <code>dict</code> 内部就完全混乱了。</p>
<p>这种通过 <code>key</code> 计算位置的算法称为哈希算法（Hash）。要保证 hash 的正确性，作为 <code>key</code> 的对象就不能变。</p>
<hr>
<h3 id="访问字典里的值"><a href="#访问字典里的值" class="headerlink" title="访问字典里的值"></a>访问字典里的值</h3><p>前面已经知道，字典（Dict）中必须根据 <code>key</code> 算出 <code>value</code> 的存放位置，即 key 对应了 value 元素对象的引用（索引），也就是说 dict 种需要根据 <code>key</code> 来获取 <code>value</code> 取值。</p>
<blockquote>
<p>字典中的元素是无序的，每个元素的位置都不固定，所以字典不能像列表和元组那样，采用切片的方式一次性访问多个元素。</p>
</blockquote>
<p><strong>[1] &gt;&gt;&gt;&gt; dictname[key]</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&quot;dict[&quot;</span>Google<span class="string">&quot;]:&quot;</span>,staff[<span class="string">&quot;Google&quot;</span>])</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&quot;Google&quot;</span>]: <span class="number">5888</span></span><br></pre></td></tr></table></figure>

<p>如果使用字典里没有的键访问数值时，会输出如下错误：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff[<span class="string">&quot;www&quot;</span>]</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">KeyError: <span class="string">&#x27;www&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt;&gt; dict 类型支持的 get() 方法</strong></p>
<p>get() 方法的语法格式为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dictname.get(key[,default])</span><br></pre></td></tr></table></figure>

<p>其中，<code>key</code> 表示指定的键，<code>default</code> 用于指定要查询的键不存在时，此方法返回的默认值，如果不手动指定，会返回 <code>None</code>。</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a = dict(two=0.65, one=88, three=100, four=-59)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>( a.get(<span class="string">&#x27;one&#x27;</span>) )</span></span><br><span class="line">88</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a = dict(two=0.65, one=88, three=100, four=-59)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>( a.get(<span class="string">&#x27;five&#x27;</span>, None) )</span></span><br><span class="line">None</span><br></pre></td></tr></table></figure>

<p>| &gt;&gt;&gt;&gt; ===========================================================</p>
<p>推荐使用 get() 方法，可保证字典键值有效性 &gt;&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>&#125;</span><br><span class="line">state = staff.get（<span class="string">&#x27;4396&#x27;</span>， <span class="literal">None</span>）</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> state:</span><br><span class="line">    ....</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 等价于：</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;4396&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> staff <span class="keyword">or</span> staff[<span class="string">&#x27;4396&#x27;</span>] <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="keyword">not</span> staff[<span class="string">&#x27;4396&#x27;</span>]:</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>成立有三种情况：</p>
<ul>
<li>dict中不存在</li>
<li>dict中存在，但值是：None</li>
<li>dict中存在而且也不是 None，但是是一个等同于 False 的值，比如说空字符串或者空列表。</li>
</ul>
<p>=========================================================== &lt;&lt;&lt;&lt; | </p>
<hr>
<h3 id="字典基本操作"><a href="#字典基本操作" class="headerlink" title="字典基本操作"></a>字典基本操作</h3><p>字典（Dict）也是一种可变数据类型。所以我们可以单独对字典中的数据项（<code>key:value</code> 对）进行修改、增加、以及删除等操作。</p>
<p>常见的字典操作有以下几种：</p>
<ul>
<li>向现有字典中添加新的键值对；</li>
<li>修改现有字典中的键值对；</li>
<li>从现有字典中删除指定的键值对；</li>
<li>判断现有字典中是否存在指定的键值对。</li>
</ul>
<blockquote>
<p>字典是由一个一个的 key-value 构成的，key 是找到数据的关键，Python 对字典的操作都是通过 key 来完成的。</p>
</blockquote>
<p><strong>[0] &gt;&gt;&gt;&gt; 字典容量查询</strong></p>
<p>len(dict) 方法计算字典元素个数（获取字典容量），即键值对的总数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>, <span class="string">&#x27;Sogo&#x27;</span>: <span class="number">3200</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(staff)</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<p><strong>[1] &gt;&gt;&gt;&gt; 字典添加键值对</strong></p>
<p>把键值对放入 dict 的方法，除了初始化时指定外，为字典添加新的键值对很简单，直接给不存在的 key 赋值即可，具体语法格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dictname[key] = value</span><br></pre></td></tr></table></figure>

<p>代码演示:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff[<span class="string">&quot;Sogo&quot;</span>] = <span class="number">3000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff</span><br><span class="line">&#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>, <span class="string">&#x27;Sogo&#x27;</span>: <span class="number">3000</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt;&gt; 字典修改键值对</strong></p>
<p>注意，由于字典种一个 <code>key</code> 只能对应一个 <code>value</code>，多次对一个 <code>key</code> 放入 <code>value</code>，后面的值会把前面的值冲掉，以此达到修改元素值的目的。请看下面的代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>, <span class="string">&#x27;Sogo&#x27;</span>: <span class="number">3000</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff[<span class="string">&quot;Sogo&quot;</span>] = <span class="number">3200</span>  <span class="comment"># 3000 --&gt; 3200</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff</span><br><span class="line">&#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>, <span class="string">&#x27;Sogo&#x27;</span>: <span class="number">3200</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>[3] &gt;&gt;&gt;&gt; 字典删除键值对</strong></p>
<p>如果要删除字典中的键值对，还是可以使用 del 语句。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>, <span class="string">&#x27;Sogo&#x27;</span>: <span class="number">3200</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除键值对：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> staff[<span class="string">&quot;Sogo&quot;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(staff)</span><br><span class="line">&#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">4000</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff.clear()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除字典（实质上就是删除了用来存放字典的变量）</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> staff</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;staff&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br></pre></td></tr></table></figure>

<p><strong>[3] &gt;&gt;&gt;&gt; 判断字典中是否存在指定键值对</strong></p>
<p>判断字典是否包含指定键值对的键，可以使用 <code>in</code> 或 <code>not in</code> 运算符:</p>
<p><code>in</code> 操作符用于判断键是否存在于字典中，如果键在字典 dict 里返回 true，否则返回 false。</p>
<p>而 <code>not in</code> 操作符刚好相反，如果键在字典 dict 里返回 false，否则返回 true。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="string">&#x27;Google&#x27;</span> <span class="keyword">in</span> staff:</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">&quot;Key of Google exist&quot;</span>)</span><br><span class="line"><span class="meta">... </span><span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">&quot;Key of Google not exist&quot;</span>)</span><br><span class="line">...</span><br><span class="line">Key of Google exist</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="string">&#x27;Sogo&#x27;</span> <span class="keyword">in</span> staff:</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">&quot;Key of Sogo exist&quot;</span>)</span><br><span class="line"><span class="meta">... </span><span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">&quot;Key of Sogo not exist&quot;</span>)</span><br><span class="line">...</span><br><span class="line">Key of Sogo <span class="keyword">not</span> exist</span><br></pre></td></tr></table></figure>

<p>注意，<code>key (not) in dict</code> 常应用于判断某一 <code>key</code> 是否在字典中有定义。如果存在，由于通过键可以很轻易的获取对应的值，因此很容易就能判断出字典中是否有指定的键值对。</p>
<hr>
<h3 id="字典方法全攻略"><a href="#字典方法全攻略" class="headerlink" title="字典方法全攻略"></a>字典方法全攻略</h3><p>Python 字典的数据类型为 dict，我们可使用 dir(dict) 来查看该类型包含哪些方法，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dir(dict)</span></span><br><span class="line">[&#x27;clear&#x27;, &#x27;copy&#x27;, &#x27;fromkeys&#x27;, &#x27;get&#x27;, &#x27;items&#x27;, &#x27;keys&#x27;, &#x27;pop&#x27;, &#x27;popitem&#x27;, &#x27;setdefault&#x27;, &#x27;update&#x27;, &#x27;values&#x27;]</span><br></pre></td></tr></table></figure>

<p>这些方法中，<code>fromkeys()</code>、<code>get()</code> 以及 <code>clear()</code> 的用法上面有过说明，这里介绍剩下的方法：</p>
<p><strong>[1] &gt;&gt;&gt;&gt; keys() &amp;&amp; values() &amp;&amp; items()</strong></p>
<p>将这三个方法放在一起介绍，是因为它们都用来获取字典中的特定数据：</p>
<ul>
<li>keys() 方法用于返回字典中的所有键（key）；</li>
<li>values() 方法用于返回字典中所有键对应的值（value）；</li>
<li>items() 用于返回字典中所有的键值对（key-value）。</li>
</ul>
<p>代码演示：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict2 = &#123;<span class="string">&#x27;one&#x27;</span>: 1, <span class="string">&#x27;two&#x27;</span>: 2, <span class="string">&#x27;three&#x27;</span>: 3&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(dict2.keys())</span></span><br><span class="line">dict_keys([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;])</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(dict2.values())</span></span><br><span class="line">dict_values([1, 2, 3])</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(dict2.items())</span></span><br><span class="line">dict_items([(&#x27;one&#x27;, 1), (&#x27;two&#x27;, 2), (&#x27;three&#x27;, 3)])</span><br></pre></td></tr></table></figure>

<p>可以发现，keys()、values() 和 items() 返回值的类型分别为 <code>dict_keys</code>、<code>dict_values</code> 和 <code>dict_items</code>，它们都是可迭代对象（Iterable）。</p>
<blockquote>
<p>在 Python 2.x 中，上面三个方法的返回值都是列表（list）类型。但在 Python 3.x 中，它们的返回值并不是我们常见的列表或者元组类型，因为 Python 3.x 不希望用户直接操作这几个方法的返回值。</p>
</blockquote>
<p>故，你不能以索引的方式直接访问其中的数据：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dict2.keys()[0]</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: &#x27;dict_keys&#x27; object is not subscriptable</span><br></pre></td></tr></table></figure>

<p>如果想使用这三个方法返回的数据，一般有下面两种方案：</p>
<p><strong>1）–&gt;</strong> 使用 list() 函数，将它们返回的数据转换成列表，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; keyslist = list(dict2.keys())</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; keyslist</span></span><br><span class="line">[&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; valueslist = list(dict2.values())</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; valueslist</span></span><br><span class="line">[1, 2, 3]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 返回的是一个由 key-value 元组组成的列表</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; itemslist = list(dict2.items())</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; itemslist</span></span><br><span class="line">[(&#x27;one&#x27;, 1), (&#x27;two&#x27;, 2), (&#x27;three&#x27;, 3)]</span><br></pre></td></tr></table></figure>

<p><strong>2）–&gt;</strong> for … in … 循环遍历</p>
<p>既然是可迭代对象（Iterable），故可以通过 for in 进行循环遍历：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key <span class="keyword">in</span> dict2.keys():</span><br><span class="line"><span class="meta">... </span>    print(key, end=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">...</span><br><span class="line">one;two;three;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> value <span class="keyword">in</span> dict2.values():</span><br><span class="line"><span class="meta">... </span>    print(value, end=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">...</span><br><span class="line"><span class="number">1</span>;<span class="number">2</span>;<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> item <span class="keyword">in</span> dict2.items():</span><br><span class="line"><span class="meta">... </span>    print(item, end=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">...</span><br><span class="line">(<span class="string">&#x27;one&#x27;</span>, <span class="number">1</span>);(<span class="string">&#x27;two&#x27;</span>, <span class="number">2</span>);(<span class="string">&#x27;three&#x27;</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[2] &gt;&gt;&gt;&gt; copy()</strong></p>
<p>copy() 方法返回一个字典的拷贝，也即返回一个具有相同键值对的新字典，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a = &#123;<span class="string">&#x27;one&#x27;</span>: 1, <span class="string">&#x27;two&#x27;</span>: 2, <span class="string">&#x27;three&#x27;</span>: [1,2,3]&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; b = a.copy()</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(b)</span></span><br><span class="line">&#123;&#x27;one&#x27;: 1, &#x27;two&#x27;: 2, &#x27;three&#x27;: [1, 2, 3]&#125;</span><br></pre></td></tr></table></figure>

<p>可以看到，copy() 方法将字典 <code>a</code> 的数据全部拷贝给了字典 <code>b</code>。</p>
<p>注意，copy() 方法所遵循的拷贝原理，既有深拷贝，也有浅拷贝（这和前面 list.copy() 方法是一样的）。事实上，这还有由于 Python 中元素对象属于不可变还是可变决定的，内容解读参见：<a href="https://www.orangeshare.cn/2018/01/08/python-zhong-de-ke-bian-he-bu-ke-bian-dui-xiang/">Python 中的可变对象和不可变对象</a>。</p>
<hr>
<p><strong>[3] &gt;&gt;&gt;&gt; update()</strong></p>
<p>update() 方法可以使用一个新的字典所包含的键值对来更新己有的字典。</p>
<p>更新原则：如果被更新的字典中己包含对应的键值对，那么原 value 会被覆盖；如果被更新的字典中不包含对应的键值对，则该键值对被添加进去。</p>
<p>代码演示：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a = &#123;<span class="string">&#x27;one&#x27;</span>: 1, <span class="string">&#x27;two&#x27;</span>: 2, <span class="string">&#x27;three&#x27;</span>: 3&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a.update(&#123;<span class="string">&#x27;one&#x27;</span>:4.5, <span class="string">&#x27;four&#x27;</span>: 9.3&#125;)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(a)</span></span><br><span class="line">&#123;&#x27;one&#x27;: 4.5, &#x27;two&#x27;: 2, &#x27;three&#x27;: 3, &#x27;four&#x27;: 9.3&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[4] &gt;&gt;&gt;&gt; pop() &amp;&amp; popitem()</strong></p>
<p><code>pop()</code> 和 <code>popitem()</code> 函数都用来删除字典中的键值对，不同的是，pop() 用来删除指定的键值对，而 popitem() 用来随机删除一个键值对，它们的语法格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dictname.pop(key)</span><br><span class="line">dictname.popitem()</span><br></pre></td></tr></table></figure>

<p>代码演示:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(a) = &#123;<span class="string">&#x27;one&#x27;</span>: 4.5, <span class="string">&#x27;two&#x27;</span>: 2, <span class="string">&#x27;three&#x27;</span>: 3, <span class="string">&#x27;four&#x27;</span>: 9.3&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a.pop(<span class="string">&quot;one&quot;</span>)</span></span><br><span class="line">4.5</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(a)</span></span><br><span class="line">&#123;&#x27;two&#x27;: 2, &#x27;three&#x27;: 3, &#x27;four&#x27;: 9.3&#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a.popitem()</span></span><br><span class="line">(&#x27;four&#x27;, 9.3)</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(a)</span></span><br><span class="line">&#123;&#x27;two&#x27;: 2, &#x27;three&#x27;: 3&#125;</span><br></pre></td></tr></table></figure>

<p>注意，<code>pop()</code> 和 <code>popitem()</code> 函数返回值为被删除的值。</p>
<hr>
<p><strong>[5] &gt;&gt;&gt;&gt; setdefault()</strong></p>
<p>setdefault() 方法用来返回某个 key 对应的 value，其语法格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dictname.setdefault(key, defaultvalue)</span><br></pre></td></tr></table></figure>

<p>setdefault() 方法总能返回指定 key 对应的 value：</p>
<ul>
<li>如果该 key 存在，那么直接返回该 key 对应的 value；</li>
<li>当指定的 key 不存在时，setdefault() 会先为这个不存在的 key 设置一个默认的 defaultvalue，然后再返回 defaultvalue。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;<span class="string">&#x27;数学&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;语文&#x27;</span>: <span class="number">89</span>, <span class="string">&#x27;英语&#x27;</span>: <span class="number">90</span>&#125;</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># key不存在，指定默认值</span></span><br><span class="line">a.setdefault(<span class="string">&#x27;物理&#x27;</span>, <span class="number">94</span>)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># key不存在，不指定默认值</span></span><br><span class="line">a.setdefault(<span class="string">&#x27;化学&#x27;</span>)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># key存在，指定默认值</span></span><br><span class="line">a.setdefault(<span class="string">&#x27;数学&#x27;</span>, <span class="number">100</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<p>运行结果如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;数学&#x27;: 95, &#x27;语文&#x27;: 89, &#x27;英语&#x27;: 90&#125;</span><br><span class="line">&#123;&#x27;数学&#x27;: 95, &#x27;语文&#x27;: 89, &#x27;英语&#x27;: 90, &#x27;物理&#x27;: 94&#125;</span><br><span class="line">&#123;&#x27;数学&#x27;: 95, &#x27;语文&#x27;: 89, &#x27;英语&#x27;: 90, &#x27;物理&#x27;: 94, &#x27;化学&#x27;: None&#125;</span><br><span class="line">&#123;&#x27;数学&#x27;: 95, &#x27;语文&#x27;: 89, &#x27;英语&#x27;: 90, &#x27;物理&#x27;: 94, &#x27;化学&#x27;: None&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="字典遍历-amp-amp-合并"><a href="#字典遍历-amp-amp-合并" class="headerlink" title="字典遍历 &amp;&amp; 合并"></a>字典遍历 &amp;&amp; 合并</h3><p>基于上述我们了解的内容，实现常用的字典遍历 &amp;&amp; 字典合并功能：</p>
<p><strong>[1] &gt;&gt;&gt;&gt; 字典遍历</strong></p>
<p><strong>1）–&gt;</strong> 成员检测方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key <span class="keyword">in</span> staff:</span><br><span class="line"><span class="meta">... </span>    print(key, end=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">...</span><br><span class="line">Google;Baidu;<span class="number">360</span>;Opera;&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<p><strong>2）–&gt;</strong> key:value 键值对方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key,value <span class="keyword">in</span> staff.items():</span><br><span class="line"><span class="meta">... </span>    print(key,<span class="string">&quot;:&quot;</span>,value,end=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">...</span><br><span class="line">Google : <span class="number">5888</span>;Baidu : <span class="number">3888</span>;<span class="number">360</span> : <span class="number">2888</span>;Opera : <span class="number">4300</span>;</span><br></pre></td></tr></table></figure>

<p><strong>3）–&gt;</strong> 键（Key）遍历方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>staff = &#123;<span class="string">&#x27;Google&#x27;</span>: <span class="number">5888</span>, <span class="string">&#x27;Baidu&#x27;</span>: <span class="number">3888</span>, <span class="string">&#x27;360&#x27;</span>: <span class="number">2888</span>, <span class="string">&#x27;Opera&#x27;</span>: <span class="number">4300</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key <span class="keyword">in</span> staff.keys():</span><br><span class="line"><span class="meta">... </span>    print(key,end=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">...</span><br><span class="line">Google;Baidu;<span class="number">360</span>;Opera;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[2] &gt;&gt;&gt;&gt; 字典合并</strong></p>
<p><strong>1）–&gt;</strong> 常规方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1 = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict2 = &#123;<span class="string">&#x27;c&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;d&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key,value <span class="keyword">in</span> dict1.items():</span><br><span class="line"><span class="meta">... </span>    dict2[key] = value</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict2</span><br><span class="line">&#123;<span class="string">&#x27;c&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2）–&gt;</strong> dict( list(dict1.items()) + list(dict2.items()) ) 方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1 = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict2 = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">3</span>, <span class="string">&#x27;d&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict3 = <span class="built_in">dict</span>(<span class="built_in">list</span>(dict1.items()) + <span class="built_in">list</span>(dict2.items()))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict3</span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3）–&gt;</strong> 字典的 update 方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict5 = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict5.update(dict1)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict5.update(dict2)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict5</span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4）–&gt;</strong> dict(dict1, **dict2) 方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1 = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict2 = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">3</span>, <span class="string">&#x27;d&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict4 = <span class="built_in">dict</span>(dict1, **dict2)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict4</span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="集合（Set）"><a href="#集合（Set）" class="headerlink" title="集合（Set）"></a>集合（Set）</h2><p>Python 中的集合，和数学中的集合概念一样（有限、互异、无序），用来保存不重复的元素。</p>
<p>你可以将其和 dict 进行比较，是一组 <code>key</code> 的集合，但不存储<code>value</code>。所以在 set 中，也没有重复的 <code>key</code>。和字典类似，Python 集合会将所有元素放在一对大括号 {} 中，相邻元素之间用 “,” 分隔，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;element1,element2,...,elementn&#125;</span><br></pre></td></tr></table></figure>

<p>类似于 dict 中的 key 唯一性，所以同一集合中，只能存储不可变的数据类型，包括整形、浮点型、字符串、元组，无法存储列表、字典、集合这些可变的数据类型，否则 Python 解释器会抛出 <code>TypeError</code> 错误。比如说：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; &#123;&#123;<span class="string">&#x27;a&#x27;</span>:1&#125;&#125;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;pyshell#8&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    &#123;&#123;&#x27;a&#x27;:1&#125;&#125;</span><br><span class="line">TypeError: unhashable type: &#x27;dict&#x27;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; &#123;[1,2,3]&#125;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;pyshell#9&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    &#123;[1,2,3]&#125;</span><br><span class="line">TypeError: unhashable type: &#x27;list&#x27;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; &#123;&#123;1,2,3&#125;&#125;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;pyshell#10&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    &#123;&#123;1,2,3&#125;&#125;</span><br><span class="line">TypeError: unhashable type: &#x27;set&#x27;</span><br></pre></td></tr></table></figure>

<p>提示你数据类型错误，非哈希类型~~~</p>
<hr>
<h3 id="集合构建"><a href="#集合构建" class="headerlink" title="集合构建"></a>集合构建</h3><p>Python 中提供了两种集合的创建方法：</p>
<p><strong>[1] &gt;&gt;&gt;&gt; 集合的标准创建格式:</strong></p>
<p>类似与 Dict，Python 提供了使用大括号 <code>&#123;&#125; </code>创建集合，并用 <code>,</code> 分隔元素对象，创建格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">parame = &#123;value01,value02,...&#125;</span><br><span class="line">或者</span><br><span class="line"><span class="built_in">set</span>(value)</span><br></pre></td></tr></table></figure>

<p>创建实例如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>set1 = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>, <span class="string">&quot;Baidu&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(set1)</span><br><span class="line">&#123;<span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set2 = &#123;<span class="string">&quot;Welcom&quot;</span>, <span class="number">32</span>, <span class="number">123.321</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(set2)</span><br><span class="line">&#123;<span class="number">32</span>, <span class="number">123.321</span>, <span class="string">&#x27;Welcom&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[2] &gt;&gt;&gt;&gt; set() 内建函数创建集合:</strong></p>
<p>除了使用 <code>&#123;&#125;</code> 创建列表外，Python 还提供了一个内置的函数 set(Iterable)，使用它可以将其它可迭代对象转换为集合类型（自动去重）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>set3 = <span class="built_in">set</span>(<span class="string">&quot;abcdefg&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set3</span><br><span class="line">&#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set4 = <span class="built_in">set</span>([<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(set4)</span><br><span class="line">&#123;<span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set5 = <span class="built_in">set</span>((<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>, <span class="string">&quot;Google&quot;</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(set5)</span><br><span class="line">&#123;<span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set6 = <span class="built_in">set</span>(&#123;<span class="string">&quot;one&quot;</span>:<span class="number">1</span>, <span class="string">&quot;two&quot;</span>:<span class="number">2</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set6</span><br><span class="line">&#123;<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>空集合 &gt;&gt;&gt;&gt;</strong></p>
<p>创建一个空集合必须用 <code>set()</code> 而不是 <code>&#123;...,... &#125;</code>，因为 <code>&#123; &#125;</code> 是用来创建一个空字典的（已被占用）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1 = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set1 = <span class="built_in">set</span>()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="built_in">type</span>(dict1),<span class="built_in">type</span>(set1))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">dict</span>&#x27;&gt; &lt;<span class="title">class</span> &#x27;<span class="title">set</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[3] &gt;&gt;&gt;&gt; 推导式方法创建列表：</strong></p>
<p>类似列表、字典的推导式，同样，集合也支持集合推导式:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="string">&#x27;abcdr&#x27;</span> <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&#x27;abc&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;r&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="集合的删除"><a href="#集合的删除" class="headerlink" title="集合的删除"></a>集合的删除</h3><p>和删除列表、元组、字典一样，手动删除字典也可以使用 del 关键字，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a = &#123;1,<span class="string">&#x27;c&#x27;</span>,1,(1,2,3),<span class="string">&#x27;c&#x27;</span>&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a</span></span><br><span class="line">&#123;1, &#x27;c&#x27;, (1, 2, 3)&#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; del a</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">NameError: name &#x27;a&#x27; is not defined</span><br></pre></td></tr></table></figure>

<h3 id="访问集合里的值"><a href="#访问集合里的值" class="headerlink" title="访问集合里的值"></a>访问集合里的值</h3><p>由于集合中的元素是无序的，因此无法向列表那样使用下标访问元素。</p>
<p>Python 中，访问集合元素最常用的方法是使用循环结构，将集合中的数据逐一读取出来:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; a = &#123;1,<span class="string">&#x27;c&#x27;</span>,1,(1,2,3)&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="keyword">for</span> ele <span class="keyword">in</span> a:</span></span><br><span class="line">...     print(ele,end=&#x27; &#x27;)</span><br><span class="line">...</span><br><span class="line">1 c (1, 2, 3)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="集合基本操作"><a href="#集合基本操作" class="headerlink" title="集合基本操作"></a>集合基本操作</h3><p>集合（Set）也是一种可变数据类型。所以我们可以单独对集合中的数据项进行增加、删除以及集合之间做交集、并集、差集等运算。</p>
<p><strong>[0] &gt;&gt;&gt;&gt; 集合容量查询</strong></p>
<p><code>len(set)</code> 方法可以来计算集合 set 元素个数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(setA)</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>[1] &gt;&gt;&gt;&gt; 成员检查（in or not in）</strong></p>
<p><code>x in set</code> 方法可用于判断元素 x 是否在集合 set 中，存在返回 True，不存在返回 False。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;Google&quot;</span> <span class="keyword">in</span> setA</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt;&gt; 向 set 集合中添加元素</strong></p>
<p><strong>1）–&gt;</strong> add()</p>
<p>集合方法 <code>set.add( x )</code> 可以将元素 <code>x</code> 添加到集合 <code>set</code> 中，如果元素已存在，则不进行任何操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.add(<span class="string">&quot;Sogo&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(setA)</span><br><span class="line">&#123;<span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;Sogo&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>使用 add() 方法添加的元素，只能是数字、字符串、元组或者布尔类型（True 和 False）值，不能添加列表、字典、集合这类可变的数据，否则 Python 解释器会报 TypeError 错误：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;C:\Users\mengma\Desktop\1.py&quot;, line 4, in &lt;module&gt;</span><br><span class="line">    a.add([1,2])</span><br><span class="line">TypeError: unhashable type: &#x27;list&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>2）–&gt;</strong> update()</p>
<p><code>set.update( x )</code>方法也可以添加元素，且参数可以是字符串，列表，元组，字典，集合等：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.update(<span class="string">&quot;Opera&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.update([<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.update((<span class="string">&quot;Opera&quot;</span>,<span class="string">&quot;360&quot;</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&#x27;360&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 并集：合并集合</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.update(&#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Sogo&quot;</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&#x27;360&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Sogo&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.update(&#123;<span class="string">&quot;jinshan&quot;</span>:<span class="number">36</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&#x27;360&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Sogo&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;jinshan&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[3] &gt;&gt;&gt;&gt; 从 set 集合中删除元素</strong></p>
<p><strong>1）–&gt;</strong> remove()</p>
<p><code>set.remove( x )</code>方法将元素 <code>x</code> 从集合 <code>set</code> 中移除，如果元素不存在，则会发生错误。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&#x27;360&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Sogo&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;jinshan&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.remove(<span class="string">&#x27;jinshan&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&#x27;360&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Sogo&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.remove(<span class="number">5</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">KeyError: <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p><strong>2）–&gt;</strong> discard()</p>
<p><code>set.discard( x )</code> 也是移除集合中的元素，且如果元素不存在，不会发生错误。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.discard(<span class="string">&quot;Baidu&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.discard(<span class="string">&quot;360&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line">&#123;<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Opera&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3）–&gt;</strong> clear()</p>
<p><code>clear()</code> 方法用于移除集合中的所有元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Baidu&quot;</span>, <span class="string">&quot;Opera&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.clear()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA</span><br><span class="line"><span class="built_in">set</span>()</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[4] &gt;&gt;&gt;&gt; 集合间运算</strong></p>
<p>结合数学集合概念，我们来看两个集合间的运算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 集合中元素自动去重</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = <span class="built_in">set</span>(<span class="string">&quot;abcdefghabc&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(setA)</span><br><span class="line">&#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setB = <span class="built_in">set</span>(<span class="string">&quot;fghijklmjklm&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(setB)</span><br><span class="line">&#123;<span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 差集：集合 setA 中包含而集合 setB 中不包含的元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA - setB</span><br><span class="line">&#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 并集：集合 setA 或 setB 中包含的所有元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA | setB</span><br><span class="line">&#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 交集：集合 setA 和 setB 中都包含了的元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA &amp; setB</span><br><span class="line">&#123;<span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;g&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 互异：不同时包含于 setA 和 setB 的元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA ^ setB</span><br><span class="line">&#123;<span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;b&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="集合常用方法整理"><a href="#集合常用方法整理" class="headerlink" title="集合常用方法整理"></a>集合常用方法整理</h3><p><strong>[1] &gt;&gt;&gt;&gt; set.difference(set)</strong></p>
<p><code>difference()</code> 方法用于返回集合的差集，即返回的集合元素包含在第一个集合中，但不包含在第二个集合(方法的参数)中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA = <span class="built_in">set</span>(<span class="string">&quot;abcdefghabc&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setB = <span class="built_in">set</span>(<span class="string">&quot;fghijklmjklm&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA.difference(setB)</span><br><span class="line">&#123;<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;e&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价于 setA - setB</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>setA - setB</span><br><span class="line">&#123;<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;e&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt;&gt; set.intersection(set1, set2 … etc)</strong></p>
<p><code>intersection()</code> 方法用于返回两个或更多集合中都包含的元素，即交集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = &#123;<span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = &#123;<span class="string">&quot;f&quot;</span>, <span class="string">&quot;g&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.intersection(y,z)</span><br><span class="line">&#123;<span class="string">&#x27;c&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p><strong>[3] &gt;&gt;&gt;&gt; set.issubset(set) &amp;&amp; set.issuperset(set)</strong></p>
<p><code>issubset()</code> 方法用于判断集合的所有元素是否都包含在指定集合中，如果是则返回 True，否则返回 False。即判断是否为子集关系。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = &#123;<span class="string">&quot;f&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;a&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = x.issubset(y)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(z)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p><code>issuperset()</code> 方法用于判断指定集合的所有元素是否都包含在原始的集合中，如果是则返回 True，否则返回 False。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = &#123;<span class="string">&quot;f&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;a&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = x.issuperset(y)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(z)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p><strong>5）set.union(set1, set2…)</strong></p>
<p><code>union()</code> 方法返回两个集合的并集，即包含了所有集合的元素，重复的元素只会出现一次。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = &#123;<span class="string">&quot;f&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;a&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z = &#123;<span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = x.union(y, z)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result</span><br><span class="line">&#123;<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Frozenset-集合"><a href="#Frozenset-集合" class="headerlink" title="Frozenset 集合"></a>Frozenset 集合</h2><p>set 集合的不可变版本 &gt;&gt;&gt;&gt; frozenset 集合</p>
<p>set 集合是可变的，程序可以改变序列中的元素；frozenset 集合是不可变序列，程序不能改变序列中的元素。set 集合中所有能改变集合本身的方法，比如 remove()、discard()、add() 等，frozenset 都不支持；set 集合中不改变集合本身的方法，fronzenset 都支持。</p>
<p>我们可以在交互式编程环境中输入 <code>dir(frozenset)</code> 来查看 frozenset 集合支持的方法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; dir(frozenset)</span></span><br><span class="line">[&#x27;copy&#x27;, &#x27;difference&#x27;, &#x27;intersection&#x27;, &#x27;isdisjoint&#x27;, &#x27;issubset&#x27;, &#x27;issuperset&#x27;, &#x27;symmetric_difference&#x27;, &#x27;union&#x27;]</span><br></pre></td></tr></table></figure>

<p>两种情况下可以使用 fronzenset：</p>
<ul>
<li>当集合的元素不需要改变时，我们可以使用 fronzenset 替代 set，这样更加安全。</li>
<li>有时候程序要求必须是不可变对象，这个时候也要使用 fronzenset 替代 set。比如，字典（dict）的键（key）就要求是不可变对象。</li>
</ul>
<p>程序演示:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; s = &#123;<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; fs = frozenset([<span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;Shell&#x27;</span>])</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; s_sub = &#123;<span class="string">&#x27;PHP&#x27;</span>, <span class="string">&#x27;C#&#x27;</span>&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 向 <span class="built_in">set</span> 集合中添加 frozenset</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; s.add(fs)</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(<span class="string">&#x27;s =&#x27;</span>, s)</span></span><br><span class="line">s = &#123;&#x27;C&#x27;, frozenset(&#123;&#x27;Java&#x27;, &#x27;Shell&#x27;&#125;), &#x27;C++&#x27;, &#x27;Python&#x27;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 向为 <span class="built_in">set</span> 集合添加子 <span class="built_in">set</span> 集合</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; s.add(s_sub)</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: unhashable type: &#x27;set&#x27;</span><br></pre></td></tr></table></figure>

<hr>
<p>至此，关于 Python 基本数据类型的介绍已经完成，下面我们简单补充说明一下 Python 中的空值和不可变对象:</p>
<h2 id="空值（None）"><a href="#空值（None）" class="headerlink" title="空值（None）"></a>空值（None）</h2><p>空值是 Python 里一个特殊的值，用<code>None</code>表示。<code>None</code> 不能理解为 <code>0</code>、<code>&quot;&quot;</code> 等，因为 <code>0</code> &amp;&amp; ‘“”‘ 是有意义的，而 <code>None</code>是一个特殊的空值。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; None is []</span></span><br><span class="line">False</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; None is <span class="string">&quot;&quot;</span></span></span><br><span class="line">False</span><br></pre></td></tr></table></figure>

<p>None 是一个对象，其数据类型为 NoneType，其对应的 bool 值为 false。好比 0 是一个对象，其类型为 int，其 bool 值为 false。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">type</span>(None)</span></span><br><span class="line">&lt;class &#x27;NoneType&#x27;&gt;</span><br></pre></td></tr></table></figure>

<p>None 是 NoneType 数据类型的唯一值（其他编程语言可能称这个值为 null、nil 或 undefined），也就是说，我们不能再创建其它 NoneType 类型的变量，但是可以将 None 赋值给任何变量。</p>
<p>None 常用于 assert、判断以及函数无返回值的情况。对于所有没有 <code>return</code> 语句的函数定义，Python 都会在末尾加上 <code>return None</code>，使用不带值的 <code>return</code> 语句（也就是只有 <code>return</code> 关键字本身），那么就返回 None。</p>
<hr>
<h2 id="可变、不可变对象"><a href="#可变、不可变对象" class="headerlink" title="可变、不可变对象"></a>可变、不可变对象</h2><p>前面我们说过，<code>str</code> 是不变对象，而 <code>list</code> 是可变对象。</p>
<p>对于可变对象，比如 list，对 list 进行操作，list 内部的内容是会变化的，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1 = [<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1.sort()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>而对于不可变对象，比如 str，对 str 进行操作呢：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>str1 = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str1.replace(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;Abc&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str1</span><br><span class="line"><span class="string">&#x27;abc&#x27;</span></span><br></pre></td></tr></table></figure>

<p>虽然字符串有个<code>replace()</code>方法，也确实变出了<code>&#39;Abc&#39;</code>，但变量<code>str1</code>最后仍是<code>&#39;abc&#39;</code>，应该怎么理解呢？</p>
<p>再来看：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>str1 = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str2 = str1.replace(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str1</span><br><span class="line"><span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str2</span><br><span class="line"><span class="string">&#x27;Abc&#x27;</span></span><br></pre></td></tr></table></figure>

<p>事实上，<code>str1</code> 是变量，而 <code>&#39;abc&#39;</code> 才是字符串对象！有些时候，我们经常说，对象 <code>str1</code> 的内容是 <code>&#39;abc&#39;</code>，但其实是指，<code>str1</code> 本身是一个变量，它指向的对象的内容才是 <code>&#39;abc&#39;</code>。</p>
<p>当我们调用 <code>str1.replace(&#39;a&#39;, &#39;A&#39;)</code> 时，实际上调用方法 <code>replace</code> 是作用在字符串对象 <code>&#39;abc&#39;</code> 上的，而这个方法虽然名字叫 <code>replace</code>，但却没有改变字符串 <code>&#39;abc&#39;</code> 的内容。相反，<code>replace</code> 方法创建了一个新字符串 <code>&#39;Abc&#39;</code> 并返回，如果我们用变量 <code>str2</code> 指向该新字符串，就容易理解了，变量 <code>str1</code> 仍指向原有的字符串 <code>&#39;abc&#39;</code>，但变量 <code>str2</code> 却指向新字符串 <code>&#39;Abc&#39;</code> 了。</p>
<blockquote>
<p>所以，对于不变对象来说，调用对象自身的任意方法，也不会改变该对象自身的内容。相反，这些方法会创建新的对象并返回，这样，就保证了不可变对象本身永远是不可变的。而可变对象就不一定了。</p>
</blockquote>
<p>关于 Python 中的可变和不可不对象内容的详细解读请参见：<a href="https://www.orangeshare.cn/2018/01/08/python-zhong-de-ke-bian-he-bu-ke-bian-dui-xiang/">Python 中的可变对象和不可变对象</a>。</p>
<hr>
</div><div class="article-licensing box"><div class="licensing-title"><p>Python 数据结构之 Dict and Set</p><p><a href="https://www.orangeshare.cn/2018/01/07/python-shu-ju-jie-gou-zhi-dict-and-set/">https://www.orangeshare.cn/2018/01/07/python-shu-ju-jie-gou-zhi-dict-and-set/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Waldeinsamkeit</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2018-01-07</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2022-03-17</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/DataType/">DataType</a><a class="link-muted mr-2" rel="tag" href="/tags/Python/">Python</a></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/01/07/python-zhong-de-ke-die-dai-dui-xiang-iterable/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Python 中的可迭代对象(Iterable)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/01/06/python-shu-ju-jie-gou-zhi-list-and-tuple/"><span class="level-item">Python 数据结构之 List and Tuple</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen  order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Waldeinsamkeit"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Waldeinsamkeit</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">118</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">43</p></a></div></div></nav></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#字典（Dict）"><span class="level-left"><span class="level-item">1</span><span class="level-item">字典（Dict）</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#认识字典"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">认识字典</span></span></a></li><li><a class="level is-mobile" href="#字典的构建"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">字典的构建</span></span></a></li><li><a class="level is-mobile" href="#字典的删除"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">字典的删除</span></span></a></li><li><a class="level is-mobile" href="#深入解读-Key-Value-键值对"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">深入解读 Key-Value 键值对</span></span></a></li><li><a class="level is-mobile" href="#访问字典里的值"><span class="level-left"><span class="level-item">1.5</span><span class="level-item">访问字典里的值</span></span></a></li><li><a class="level is-mobile" href="#字典基本操作"><span class="level-left"><span class="level-item">1.6</span><span class="level-item">字典基本操作</span></span></a></li><li><a class="level is-mobile" href="#字典方法全攻略"><span class="level-left"><span class="level-item">1.7</span><span class="level-item">字典方法全攻略</span></span></a></li><li><a class="level is-mobile" href="#字典遍历-amp-amp-合并"><span class="level-left"><span class="level-item">1.8</span><span class="level-item">字典遍历 &amp;&amp; 合并</span></span></a></li></ul></li><li><a class="level is-mobile" href="#集合（Set）"><span class="level-left"><span class="level-item">2</span><span class="level-item">集合（Set）</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#集合构建"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">集合构建</span></span></a></li><li><a class="level is-mobile" href="#集合的删除"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">集合的删除</span></span></a></li><li><a class="level is-mobile" href="#访问集合里的值"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">访问集合里的值</span></span></a></li><li><a class="level is-mobile" href="#集合基本操作"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">集合基本操作</span></span></a></li><li><a class="level is-mobile" href="#集合常用方法整理"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">集合常用方法整理</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Frozenset-集合"><span class="level-left"><span class="level-item">3</span><span class="level-item">Frozenset 集合</span></span></a></li><li><a class="level is-mobile" href="#空值（None）"><span class="level-left"><span class="level-item">4</span><span class="level-item">空值（None）</span></span></a></li><li><a class="level is-mobile" href="#可变、不可变对象"><span class="level-left"><span class="level-item">5</span><span class="level-item">可变、不可变对象</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="When Art Meets Tech" height="28"></a><p class="is-size-7"><span>&copy; 2024 Waldeinsamkeit</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>