<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Linux Instruction Usage Guide - When Art Meets Tech</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="When Art Meets Tech"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="When Art Meets Tech"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="Linux 内核支持指令使用指南。"><meta property="og:type" content="blog"><meta property="og:title" content="Linux Instruction Usage Guide"><meta property="og:url" content="https://www.orangeshare.cn/2015/02/01/linux-instruction-usage-guide/"><meta property="og:site_name" content="When Art Meets Tech"><meta property="og:description" content="Linux 内核支持指令使用指南。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://s2.loli.net/2024/03/15/KaAxMmFNn4XrYCZ.png"><meta property="og:image" content="https://s2.loli.net/2024/03/15/vC5VSpkYydZwXmj.png"><meta property="og:image" content="https://s2.loli.net/2024/03/14/cx1nOlDhzyHoBkj.jpg"><meta property="og:image" content="https://s2.loli.net/2024/03/17/I6Aq3xLhOonzgpf.png"><meta property="article:published_time" content="2015-02-01T02:40:29.000Z"><meta property="article:modified_time" content="2024-03-17T12:45:19.364Z"><meta property="article:author" content="Waldeinsamkeit"><meta property="article:tag" content="Operate System"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://s2.loli.net/2024/03/15/KaAxMmFNn4XrYCZ.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.orangeshare.cn/2015/02/01/linux-instruction-usage-guide/"},"headline":"When Art Meets Tech","image":["https://s2.loli.net/2024/03/15/KaAxMmFNn4XrYCZ.png","https://s2.loli.net/2024/03/15/vC5VSpkYydZwXmj.png","https://s2.loli.net/2024/03/14/cx1nOlDhzyHoBkj.jpg","https://s2.loli.net/2024/03/17/I6Aq3xLhOonzgpf.png"],"datePublished":"2015-02-01T02:40:29.000Z","dateModified":"2024-03-17T12:45:19.364Z","author":{"@type":"Person","name":"Waldeinsamkeit"},"description":"Linux 内核支持指令使用指南。"}</script><link rel="canonical" href="https://www.orangeshare.cn/2015/02/01/linux-instruction-usage-guide/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.2.0"></head>    <body class="is-3-column">    <nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="When Art Meets Tech" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Hexo Search" href="https://hexo.io/zh-cn/"><i class="fab fa-hotjar"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><i class="fas fa-angle-double-right"></i>Linux Instruction Usage Guide</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="${date_xml(page.date)}" title="${date_xml(page.date)}">2015-02-01</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time dateTime="${date_xml(page.updated)}" title="${date_xml(page.updated)}">2024-03-17</time></span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a></span><span class="level-item">2 hours read (About 19918 words)</span></div></div><div class="content"><p>Linux 内核支持指令使用指南。</p>
<a id="more"></a>

<p>本文仅提供常见的 Linux 内核支持指令以及其常用选项的使用，指令详细使用可通过 <code>command --help</code> 以查看其使用帮助信息。</p>
<hr>
<h2 id="The-Basics"><a href="#The-Basics" class="headerlink" title="The Basics"></a>The Basics</h2><p>Linux OS 中一切都是文件，命令（指令）也是文件，是一种二进制文件。</p>
<p><strong>[1] &gt;&gt;&gt; Linux Shell 命令行（Command Line）含义</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 示例 1：</span><br><span class="line">[root@hostname:~]#</span><br><span class="line">root      // 登录用户名，root 为超级用户；</span><br><span class="line">@         // 分隔符，可理解为：登入</span><br><span class="line">hostname  // 主机名，指当前服务器名称</span><br><span class="line">~         // 当前所在目录，root 默认用户目录为 ~（/root），会随着目录切换而显示当前所在目录路径；</span><br><span class="line">#         // 命令输入的提示符（超级用户为 #；普通用户为 $），在其后输入命令</span><br><span class="line"></span><br><span class="line"># 示例 2：</span><br><span class="line">[user@hostname:~]$</span><br><span class="line">user      // 登录用户名，其它普通用户；</span><br><span class="line">~         // 当前所在目录，普通用户的默认用户目录为 ~（/home/user），会随着目录切换而显示当前所在目录路径；</span><br><span class="line">$         // 命令输入的提示符（超级用户为 #；普通用户为 $），在其后输入命令</span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt; Command Format</strong></p>
<p>Linux 中通用的命令格式（命令组成）：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 命令 选项 参数（操作对象）</span><br><span class="line">Command Options arguments</span><br></pre></td></tr></table></figure>

<p>Shell 中可使用快捷键 <code>Ctrl + c</code> 终止命令的执行。</p>
<p><strong>[3] &gt;&gt;&gt; Basic Command</strong></p>
<p>查询系统当前时间：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> date</span></span><br><span class="line">Wed Mar 13 18:45:38 CST 2024</span><br></pre></td></tr></table></figure>

<p>关闭/重启计算机：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 1. 关机 ###</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 立刻关机：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -h now       // 或者：poweroff / halt</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 定时关机：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -h 20        // 指定二十分钟后关机</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -h 20:30     // 指定于 20:30 关机</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 取消定时关机:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -c</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 2. 重启 ###</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 立刻重启：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -r now       // 或者：reboot</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 定时重启：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -h 20        // 指定二十分钟后重启</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -h 20:30     // 指定于 20:30 重启</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 取消定时重启:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -c</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> shutdown 命令为安全的关闭/重启命令。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置定时后，会广播提醒所有登录用户 Shutdown Scheduled，以尽快处理未完成工作。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 样例：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> date</span></span><br><span class="line">Wed Mar 13 18:42:41 CST 2021</span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -h 20</span></span><br><span class="line">Shutdown scheduled for Wed 2021-03-13 19:02:50 CST, use &#x27;shutdown -c&#x27; to cancel.</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown -c</span></span><br><span class="line">Broadcast message from root@localhost.localdomain (Wed 2021-03-13 18:43:40 CST):</span><br><span class="line">The system shutdown has been cancelled at Wed 2021-03-13 18:44:40 CST!</span><br></pre></td></tr></table></figure>

<p>查看命令帮助（Command –help）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 示例：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> shutdown --<span class="built_in">help</span></span></span><br><span class="line">shutdown [OPTIONS...] [TIME] [WALL...]</span><br><span class="line"></span><br><span class="line">Shut down the system.</span><br><span class="line"></span><br><span class="line">     --help      Show this help</span><br><span class="line">  -H --halt      Halt the machine</span><br><span class="line">  -P --poweroff  Power-off the machine</span><br><span class="line">  -r --reboot    Reboot the machine</span><br><span class="line">  -h             Equivalent to --poweroff, overridden by --halt</span><br><span class="line">  -k             Don&#x27;t halt/power-off/reboot, just send warnings</span><br><span class="line">     --no-wall   Don&#x27;t send wall message before halt/power-off/reboot</span><br><span class="line">  -c             Cancel a pending shutdown</span><br></pre></td></tr></table></figure>

<p>切换用户：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Switch User：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> su root    // 切换为超级用户：root，需要输入该用户的密码</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> su         // 等同于 su root</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">exit</span>       // 推出当前用户，或 Shell</span></span><br></pre></td></tr></table></figure>

<p>临时获取超级用户权限以执行命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Linux 默认规则：命令存放的路径不同，其执行权限不同。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 故，Linux 指令可以被分为：root 指令，或 user 指令</span></span><br><span class="line"><span class="meta">#</span><span class="bash">         root 指令（root 权限下可以执行）：/sbin 或者 /usr/sbin</span></span><br><span class="line"><span class="meta">#</span><span class="bash">         all users 指令（所有用户都可以执行）：/bin 或者 /usr/bin</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以理解为：bin=binary ；sbin=super binary；</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 当普通用户想要执行某个 root 指令时，需要使用 sudo 获取临时超级用户权限，执行时需要输入 root 用户密码。示例：</span></span></span><br><span class="line">[centos@localhost ~]$ shutdown -h 20</span><br><span class="line">Must be root.</span><br><span class="line">[centos@localhost ~]$ sudo shutdown -h 20</span><br><span class="line">[sudo] password for centos: </span><br><span class="line">Shutdown scheduled for Wed 2024-03-13 20:39:04 CST, use &#x27;shutdown -c&#x27; to cancel.</span><br><span class="line">[centos@localhost ~]$ shutdown -c</span><br><span class="line">Failed to talk to shutdownd, shutdown hasn&#x27;t been cancelled: Permission denied</span><br><span class="line">[centos@localhost ~]$ sudo shutdown -c</span><br><span class="line"></span><br><span class="line">Broadcast message from root@localhost.localdomain (Wed 2024-03-13 20:19:51 CST):</span><br><span class="line"></span><br><span class="line">The system shutdown has been cancelled at Wed 2024-03-13 20:20:51 CST!</span><br></pre></td></tr></table></figure>

<p>清除 Shell 中的命令历史（清屏）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> clear</span> </span><br></pre></td></tr></table></figure>

<p>Shell 命令行中发现输入了错误命令后，可以使用快捷键 <code>Ctrl + u</code> 清除掉光标前所有内容。</p>
<p>查看主机名：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看主机名：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hostname    // 主机名.域名：&lt;localhost.localdomain&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 临时设置主机名：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hostname centos</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hostname</span></span><br><span class="line">centos</span><br></pre></td></tr></table></figure>

<p>查看当前所在的工作目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Print Working Directory：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">pwd</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> /home/centos</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="File-Processing"><a href="#File-Processing" class="headerlink" title="File Processing"></a>File Processing</h2><p>这里我们来看文件处理相关的命令：</p>
<ul>
<li><font color="orange">cd</font></li>
<li><font color="orange">ls=dir</font></li>
<li><font color="orange">touch</font></li>
<li><font color="orange">mkdir</font></li>
<li><font color="orange">rm</font></li>
<li><font color="orange">cp</font></li>
<li><font color="orange">mv</font></li>
<li><font color="orange">cat/more/less/head/tail</font></li>
<li><font color="orange">vi/vim</font></li>
</ul>
<p><strong>[1] &gt;&gt;&gt; cd (Change Directory)</strong></p>
<p>功能描述：可用于切换当前的工作目录。</p>
<p>语法格式：<code>cd [dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ cd /                 // 切换到根目录</span><br><span class="line">$ cd /etc              // 切换到根目录下的 etc 配置目录</span><br><span class="line">$ cd ~                 // 切换到当前用户的默认用户名录：/root 或者 /home/user</span><br><span class="line"></span><br><span class="line"># 两个特殊的目录 &quot;.&quot; 和 &quot;..&quot; ，分别代表 &quot;当前目录&quot; 和 &quot;当前目录的父目录&quot;</span><br><span class="line">$ cd ..                // 切换到上一级目录，等同于：cd ../</span><br><span class="line">$ cd ../..             // 切换到上上级目录</span><br><span class="line">$ cd -                 // 切换到上次访问的目录</span><br><span class="line"></span><br><span class="line">$ cd /xxx/xx/x         // 通过完整的目录路径（支持 Tab 键快速补全），直接切换到目标目录（不存在则：No such file or directory）</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[2] &gt;&gt;&gt; ls (List) == dir (Directory)</strong></p>
<p>功能描述：查看目录或文件。</p>
<p>语法格式：<code>cd [Options：a/l/d/i] [dir/file]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 常用选项说明：</span><br><span class="line">#             a ：显示所有文件，包括隐藏文件</span><br><span class="line">#             l ：列表显示更详细的信息（执行权限/所属用户、组/文件大小/...）</span><br><span class="line">#             d ：查看某特定目录的属性，配合 -l 使用</span><br><span class="line">#             i ：查看文件的 inode Number</span><br><span class="line"></span><br><span class="line">$ ls                   // 查看当前目录下的所有目录和文件</span><br><span class="line">$ ls -a                // 查看当前目录下的所有目录和文件（包括隐藏的文件）</span><br><span class="line">$ ls -l                // 以列表形式（List）查看当前目录下的所有目录和文件，等同于：ll</span><br><span class="line">$ ls /                 // 查看指定目录（根目录）下的所有目录和文件</span><br><span class="line"></span><br><span class="line">$ ls -ld               // 查看当前目录的属性信息</span><br><span class="line">drwx------. 16 centos centos 4096 Mar 13 20:58 .</span><br><span class="line">$ ls -l /xxx/dir       // 查看某个目录的详细信息（dir 所在目录中文件较多时）</span><br><span class="line">$ ls -l /xxx/xx/file   // 查看某个指定文件的详细信息（file 所在目录中文件较多时）</span><br></pre></td></tr></table></figure>

<p>查看到的文件信息 <code>drwxr-xr-x 2 root root  4096  Mar 13 21:43</code> 格式说明：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 首字符 d：表示文件类型，常见的有 &quot;d&quot; &gt;&gt;&gt; Dir（目录）；&quot;-&quot; &gt;&gt;&gt; 二进制文件；&quot;l&quot; &gt;&gt;&gt; Link（软连接文件）</span><br><span class="line"># rwx(u) | r-x (g) | r-x (o)：表示文件的权限信息，每三个字符间隔一下，分别表示（[所有者（u）] | [所属组（g）] | [其他人（others）]）对文件的操作权限，其中 r--read 读；w--write 写；x--execute 执行</span><br><span class="line"># 2：表示硬链接数（文件的硬连接数为 1，目录的硬链接数为其下所有子文件夹的个数）</span><br><span class="line"># root root：告诉我们当前文件的所有者（root）和所属组（root 组：r-x 权限）</span><br><span class="line"># 4096：表示文件大小，有时以 block 为单位</span><br><span class="line"># Mar 13 21:43：表示文件的创建或最后修改时间</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[3] &gt;&gt;&gt; touch</strong></p>
<p>功能描述：创建空文件；如果文件存在，则修改文件时间属性为当前系统时间。</p>
<p>语法格式：<code>touch [file]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch test.txt         // 在当前目录下创建名为 test 的 txt 文件（文件不存在），如存在则修改其时间属性为当前系统时间</span><br></pre></td></tr></table></figure>

<p><strong>[4] &gt;&gt;&gt; mkdir (Make Directory)</strong></p>
<p>功能描述：创建新目录；如果文件存在，则产生错误 File exists。</p>
<p>语法格式：<code>mkdir [dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir temp         // 在当前目录下创建名为 temp 的目录</span><br><span class="line">$ mkdir ~/temp       // 在指定目录（默认用户目录）下创建一个名为 temp 的目录</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[5] &gt;&gt;&gt; rm (Remove)</strong></p>
<p>功能描述：删除已存在文件（File）或目录（Dir）；如果文件不存在，则产生错误 No such file or directory。</p>
<p>语法格式：<code>rm [Options：r/f] [file/dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 常用选项说明：</span><br><span class="line">#             r (recursive)：递归删除目录，以及目录中的所有文件/目录</span><br><span class="line">#             f (force) ：强制删除，不询问</span><br><span class="line"></span><br><span class="line">### 1. File ###</span><br><span class="line">rm test.txt              // 删除当前目录下的 test.txt 文件，删除时会询问你是否删除（yes/no）？</span><br><span class="line">rm -f test.txt           // 删除当前目录的的 test.txt 文件（不询问）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 2. Dir ###</span><br><span class="line">rm -r temp               // 递归删除当前目录下名为 temp 的目录，以及其下的所有内容（文件/目录），删除每一个文件/目录均会询问</span><br><span class="line">rm -rf temp              // 递归删除当前目录下名为 temp 的目录，以及其下的所有内容（文件/目录），删除时不询问</span><br><span class="line"></span><br><span class="line">rm -rf *                 // 删除当前目录下的所有（目录/文件）</span><br><span class="line">rm -rf temp/*            // 删除 temp 目录下的所有（目录/文件）</span><br></pre></td></tr></table></figure>

<p>还有一个命令 <code>rmdir</code> 来删除目录，但只能删除空目录（Empty Dir）。</p>
<hr>
<p><strong>[6] &gt;&gt;&gt; cp (Copy)</strong></p>
<p>功能描述：复制/备份 文件（File）或目录（Dir）；如果文件不存在，则产生错误 No such file or directory。</p>
<p>语法格式：<code>cp [Options：r/R] [src file/dir] [target file/dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 复制文件：cp [src file] [target dir]</span><br><span class="line"># 复制目录：cp -R [src dir] [target dir]</span><br><span class="line"></span><br><span class="line">$ cp file1 dir1             // 将当前目录下的 file1 文件复制到目录 dir1 下（dir1 目录存在），若 dir1 中存在 file1，会进行覆盖 overwrite；若 dir1 不存在意为将 file1 复制并改名为 dir1。</span><br><span class="line"></span><br><span class="line">$ cp file1 file2 dir1       // 将当前目录下的 file1 &amp;&amp; file2 文件复制到目录 dir1 下；若 dir1 中存在 file1 / file2，会进行覆盖 overwrite；若 dir1 不存在会报错。</span><br><span class="line"></span><br><span class="line">$ cp -R dir1 dir2           // 将当前目录下的 dir1 目录复制到目录 dir2 下（dir1 目录存在），若 dir2 目录下存在 dir1 目录，会进行合并，存在相同文件时会进行覆盖 overwrite；若 dir2 目录不存在意为将 dir1 复制并改名为 dir2。</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[7] &gt;&gt;&gt; mv (Move)</strong></p>
<p>功能描述：改名/移动 文件（File）或目录（Dir）；如果文件不存在，则产生错误 No such file or directory。</p>
<p>语法格式：<code>mv [Options] [src file/dir] [target file/dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mv dir1 dir2            // dir2 存在，则移动；不存在，则改名。</span><br><span class="line">$ mv file1 dir1/dir2      // 将当前目录下的文件 file1 移动到 dir2 目录下（dir2 目录存在）；如果 dir2 不存在，则意为将 file1 移动并改名为 dir1。</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[8] &gt;&gt;&gt; cat/more/less/head/tail</strong></p>
<p>功能描述：查看文件内容。</p>
<p>语法格式和使用说明较为简单，如下：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># cat [file]                     // 查看文件最后一屏内容（文件较短时使用）</span><br><span class="line"># more [file]                    // 分页显示文件内容（文件较长时使用）：显示查看文件进度百分比，BlackSpace 翻页，Enter 下一行，q 退出查看</span><br><span class="line"># less [file]                    // 分页显示文件内容（文件较长时使用）：PgUp 向上翻页，PgDn 向下翻页，q 退出查看</span><br><span class="line"></span><br><span class="line"># head [Options: n] [file]       // 查看文件头 n 行的内容（默认 10 行）：tail -n 20</span><br><span class="line"># tail [Options: n/f] [file]     // 查看文件尾部 n 行的内容（默认 10 行）：tail -n 20</span><br><span class="line"></span><br><span class="line">$ tail -n 5 -f log.txt           // 动态显示文件内容：用来监控日志文件时才有价值</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[9] &gt;&gt;&gt; vi/vim</strong></p>
<p>关于 Linux 中文本编辑器命令 <code>vi/vim</code> 的使用，可以参见【<a href="https://www.orangeshare.cn/2015/02/02/linux-chang-yong-wen-ben-bian-ji-qi-vi-vim-shi-yong-zhi-nan/">Linux 常用文本编辑器 Vi &amp;&amp; Vim 使用指南</a>】中说明。</p>
<hr>
<h2 id="Command-Help"><a href="#Command-Help" class="headerlink" title="Command Help"></a>Command Help</h2><p>Linux 系统中的帮助命令：</p>
<h3 id="Command-–help"><a href="#Command-–help" class="headerlink" title="Command –help"></a>Command –help</h3><p>Linux 系统中的命令，一般都提供了 <code>Command --help</code> 形式，以查看相应命令的简单帮助信息（命令格式、选项等）。</p>
<p>你可以通过 <code>Command --help</code> 快速掌握某个命令的快速使用。</p>
<hr>
<h3 id="man-info"><a href="#man-info" class="headerlink" title="man/info"></a>man/info</h3><p>man 命令可用于查看系统中某个命令、系统调用或库函数等的使用手册（manuals）。</p>
<p>一个 man 手册遵守下面的章节结构：</p>
<p><img src="https://s2.loli.net/2024/03/15/KaAxMmFNn4XrYCZ.png"></p>
<p><font color="red">↓↓↓↓↓↓ man 手册的数字编号 ↓↓↓↓↓↓</font></p>
<p><code>man 1 kill</code> &amp;&amp; <code>man 2 kill</code>，这些命令都是查看 kill 命令的手册，但是文档却大不相同。</p>
<p>因为 kill 是一个命令行的工具，<code>which kill</code> 看到 /usr/bin/kill 是一个二进制文件；其实，也有一个系统调用叫做 kill。</p>
<ul>
<li>man 1 kill   &gt;&gt;&gt; 显示的是命令行工具 kill 的手册</li>
<li>man 2 kill   &gt;&gt;&gt; 显示系统调用 kill 的手册</li>
</ul>
<p>显示什么类型的手册，由 man 和命令中间的数字决定，目前共有 9 个 man 支持的数字:</p>
<p><img src="https://s2.loli.net/2024/03/15/vC5VSpkYydZwXmj.png"></p>
<p><font color="red">↓↓↓↓↓↓ man 手册阅读 ↓↓↓↓↓↓</font></p>
<p>BlackSpace 空格翻页；<code>/</code> 可进入查找关键字模式；其使用类似于 Vim。</p>
<hr>
<h3 id="whatis-apropos"><a href="#whatis-apropos" class="headerlink" title="whatis/apropos"></a>whatis/apropos</h3><p>可以看见，man 手册中提供的帮助信息太多了，如果我们只想获得简短说明信息，可以使用 <code>whatis/apropos</code> 命令。</p>
<p><code>whatis [任何关键字]</code> 可获取关键字的简单功能描述；而 <code>apropos [配置文件]</code> 以查看配置文件的详细信息。</p>
<hr>
<h2 id="Permission-Management"><a href="#Permission-Management" class="headerlink" title="Permission Management"></a>Permission Management</h2><p>在前面的 ls 命令中，已经接触过文件的权限信息（<code>rwxr-xr-x</code>）了，这里首先来简单的说明一下 Linux 系统中的文件权限：</p>
<p>👇👇👇 <strong>文件权限说明</strong> 👇👇👇</p>
<p>以某文件的权限信息 <code>rwxr-xr-x</code> 为例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">### 文件的权限由三组字符构成，表示三种不同的用户对文件的访问权限 ###</span><br><span class="line">第一组三位（rwx）：表示 拥有者（user）的权限</span><br><span class="line">第二组三位（r-x）：表示 拥有者所在的组（group），即组员的权限</span><br><span class="line">第三组三位（r-x）：表示 其他用户的权限（others）</span><br><span class="line"></span><br><span class="line">每一种用户，针对某个特定的文件，又有三种（三位）访问权限：&#x27;r&#x27; 代表可读（4），&#x27;w&#x27; 代表可写（2），&#x27;x&#x27; 代表可执行权限（1），括号内代表 &quot;8421 法&quot;。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">8421 法：用户对文件的访问权限，可以使用三位二进制数表示：`111`，每一位分别代表 &#x27;r&#x27; &amp; &#x27;w&#x27; &amp; &#x27;x&#x27;</span><br><span class="line">        故，&#x27;r&#x27; 代表可读（4），&#x27;w&#x27; 代表可写（2），&#x27;x&#x27; 代表可执行权限（1）</span><br><span class="line">        三位数相加和为 1+2+4=7，表示当前用户对该文件具有 “可读、可写、可执行” 的权限，即授予该用户所有权限</span><br><span class="line"></span><br><span class="line">于是，文件权限 `rwxr-xr-x` 表示为 8421 法的写法为：`755`</span><br><span class="line">即：拥有者（u）对文件具有 rwx 权限；拥有者所在的组（g）对对文件具有 rx 权限；而其它用户（o）对该文件具有 rx 权限。</span><br></pre></td></tr></table></figure>

<p><font color="red">↓↓↓↓↓↓ rwx 权限的深入理解 ↓↓↓↓↓↓</font></p>
<p><img src="https://s2.loli.net/2024/03/14/cx1nOlDhzyHoBkj.jpg"></p>
<p><font color="red">Example 1 &gt;&gt;&gt;</font></p>
<p>在 root 权限下在 / 目录下创建 practice 目录（755：drwxr-xr-x），再在该目录下创建 test 文件（744：drwxr–r–），然后将 test 文件权限改为 777（-rwxrwxrwx），思考在用户权限下是否可以删除文件 test ？！！</p>
<p>答案是 &gt;&gt;&gt; 操作无法实现，权限不够！！！</p>
<p>如果将 practice 目录权限修改为 777，那么上述操作是可以实现的。</p>
<p>对文件而言：w 权限代表用户可以修改文件，而不是删除。删除时，需要看当前操作用户对其所属目录是否具有 w 权限！！！</p>
<p><font color="red">Example 2 &gt;&gt;&gt;</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 普通用户 centos 下无法 查看/进入 超级用户 root 的默认用户目录（/root）：</span></span><br><span class="line">centos@localhost ~]$ ls /root/</span><br><span class="line">ls: cannot open directory /root/: Permission denied</span><br><span class="line">[centos@localhost ~]$ cd /root/</span><br><span class="line">bash: cd: /root/: Permission denied</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> sudo 查看一下 /root 目录的权限信息：</span></span><br><span class="line">[centos@localhost ~]$ sudo ls -ld /root</span><br><span class="line">[sudo] password for centos: </span><br><span class="line">dr-xr-x---. 5 root root 261 Mar 14 20:45 /root</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可见，其它用户对于 /root 目录没有任何权限</span></span><br></pre></td></tr></table></figure>

<hr>
<p>下面我们来看文件权限管理相关的命令：</p>
<p><strong>[1] &gt;&gt;&gt; chmod (Change Mode)</strong></p>
<p>功能描述：更改 文件（file）或目录（Dir）权限。</p>
<p>语法格式：<code>chmod [&#123;ugo&#125;&#123;+-=&#125;&#123;rwx&#125;] [file/Dir] 或者 chmod [mode=421] [file/Dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ chmod u+rw test.txt    # 为 test.txt 文件的所有者增加读写权限</span><br><span class="line">$ chmod 775 test.txt     # 修改 test.txt 文件的权限为：rwx-rwx-r-x</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[2] &gt;&gt;&gt; chown (Change Ownership)</strong></p>
<p>功能描述：更改 文件（file）或目录（Dir）的所有者。</p>
<p>语法格式：<code>chown [user] [file/Dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chown centos file1        # 改变文件 file1 的所有者为 centos</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>[3] &gt;&gt;&gt; chgrp (Change Group)</strong></p>
<p>功能描述：更改 文件（file）或目录（Dir）的的所属组。</p>
<p>语法格式：<code>chgrp [user-group] [file/Dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chgrp adm file1        # 改变文件 file1 的所属组为 adm</span><br></pre></td></tr></table></figure>

<hr>
<p>不知道你有没有思考过一个问题 &gt;&gt;&gt;</p>
<p>文件在创建时就被授予了初始权限，那么 Linux 系统是如何给新建的文件授权的呢？！！</p>
<p><strong>[4] &gt;&gt;&gt; umask</strong></p>
<p>功能描述：显示 &amp;&amp; 设置 新建文件[New File] 或 目录（Dir）的缺省权限。</p>
<p>语法格式：<code>umask [Options：S] [file/Dir]</code>，命令使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 以权限掩码值显示新建文件或目录的缺省权限（777 - 权限值 = 权限掩码值）</span><br><span class="line">$ umask</span><br><span class="line"></span><br><span class="line"># 以 rwx 的形式显示新建文件或目录的缺省权限</span><br><span class="line"># umask -S</span><br><span class="line"></span><br><span class="line"># 修改新建文件或目录的缺省权限</span><br><span class="line">$ umask [权限掩码值]</span><br></pre></td></tr></table></figure>

<p>实际环境测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看普通用户的缺省权限</span></span><br><span class="line">[centos@localhost ~]$ umask</span><br><span class="line">0002</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看 root 用户的缺省权限</span></span><br><span class="line">[centos@localhost ~]$ su root</span><br><span class="line">Password: </span><br><span class="line">[root@localhost centos]# umask</span><br><span class="line">0022</span><br></pre></td></tr></table></figure>

<p><font color="red">↓↓↓↓↓↓ 关于 0002/0022 ↓↓↓↓↓↓</font></p>
<p>最高位的 <code>0</code> 表示特殊权限位；002/022 是用户权限位，其权限值 = 777 - 002/022（<code>775/755</code>），rwx 形式为：<code>rwxrwxr-x</code> &amp;&amp; <code>rwsr-xr-x</code>。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[centos@localhost ~]$ umask -S</span><br><span class="line">u=rwx,g=rwx,o=rx</span><br><span class="line"></span><br><span class="line">[root@localhost centos]# umask -S</span><br><span class="line">u=rwx,g=rx,o=rx</span><br></pre></td></tr></table></figure>

<p>修改普通用户的文件缺省权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[centos@localhost ~]$ umask 022</span><br><span class="line"></span><br><span class="line">[centos@localhost ~]$ umask</span><br><span class="line">0022</span><br><span class="line">[centos@localhost ~]$ umask -S</span><br><span class="line">u=rwx,g=rx,o=rx</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="File-Search"><a href="#File-Search" class="headerlink" title="File Search"></a>File Search</h2><p>Linux 中文件查找或文件内容查找相关的命令：</p>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><p>功能描述：通过设定条件（文件名/文件权限/大小/时间/inode），查找指定路径下的 文件（File）或 目录（Dir）。</p>
<p>使用须知：使用 find 命令搜索时，不要指定过大的搜索范围（find 直接在硬盘中进行搜索的，如果指定的搜索范围过大，会消耗较大的系统资源，导致服务器压力过大）。</p>
<p>语法格式：<code>fine path -Options  [-print]  [-exec -ok |xargs |grep]  [command &#123;&#125; \;]</code>，参数说明：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># path                    &gt;&gt;&gt;&gt; 指定搜索（查找）路径</span><br><span class="line"></span><br><span class="line"># -print                  &gt;&gt;&gt;&gt; 表示将结果输出到标准输出（只对离自己最近的一个匹配条件起作用）</span><br><span class="line"></span><br><span class="line"># -exec                   &gt;&gt;&gt;&gt; 对查找匹配到的文件，执行其后所给出的 Shell 命令：[command &#123;&#125; \;]</span><br><span class="line"># -ok                     &gt;&gt;&gt;&gt; 功能等同于 exec；但执行命令会进行询问，让用户确认是否执行</span><br><span class="line"># |xargs                  &gt;&gt;&gt;&gt; 功能等同于 exec ，起承接作用；|xargs 主要用于承接删除操作，而 -exec 都可用（删除、复制、移动、重命名等）</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p>常用 Options 查找条件示例：</p>
<p><font color="orange">↓↓↓↓↓↓ -name/iname 按文件名称查找文件 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在 /dir 目录及其子目录下面查找名字为 filename 的文件（完全匹配）</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /dir -name filename</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 /dir 目录及其子目录下面查找名字为 filename 的文件（完全匹配），不区分大小写</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /dir -iname filename</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 /dir 目录及其子目录中，查找扩展名为 “c” 的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /dir -name <span class="string">&quot;*.c&quot;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录及子目录中，查找大写字母开头的 txt 文件</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -name <span class="string">&#x27;[A-Z]*.txt&#x27;</span> -<span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 /etc 及其子目录中，查找 host 开头的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /etc -name <span class="string">&#x27;host*&#x27;</span> -<span class="built_in">print</span></span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 <span class="variable">$HOME</span> 目录及其子目录中，查找所有文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find ~ -name <span class="string">&#x27;*&#x27;</span> -<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录及子目录中，查找不是 out 开头的 txt 文件（忽略以 out 开头的文件）</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -name <span class="string">&quot;out*&quot;</span> -prune -o -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">print</span></span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -path 按目录查找 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录除 git 子目录外查找 txt 文件</span></span><br><span class="line">find . -path &quot;./git&quot; -prune -o -name &quot;*.txt&quot; -print</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 temp/ 目录下除 <span class="built_in">test</span> 和 valid  之外的子目录中查找 txt 文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find temp/ \( -path <span class="string">&#x27;temp/test&#x27;</span> -o -path <span class="string">&#x27;temp/valid&#x27;</span> \) -a -prune -o -name <span class="string">&#x27;*.txt&#x27;</span> -<span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意：`\( -path <span class="string">&#x27;temp/test&#x27;</span> -o -path <span class="string">&#x27;temp/valid&#x27;</span> \)` 中表达式结合符 () 其前后均有空格，并使用 \ 进行转义</span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -inum 按文件节点号查找 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 根据文件的 inode number 来查找其所有硬链接</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example &gt;&gt;&gt;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建硬链接：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ln temp/test.txt tmp/test.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ll -i temp/test.txt tmp/test.txt</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看两个文件的 inode number：</span></span><br><span class="line">6010092 -r--r--r--. 2 centos centos 105 Mar 14 21:12 temp/test.txt</span><br><span class="line">6010092 -r--r--r--. 2 centos centos 105 Mar 14 21:12 tmp/test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 根据节点号查找所对应的文件：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -inum 6010092</span></span><br><span class="line">./temp/test.txt</span><br><span class="line">./tmp/test.txt</span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -perm 按文件权限查找 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录及子目录中，查找具有 u（7）&amp;&amp; g（5）&amp;&amp; o（5）权限的文件或目录</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -perm 755 –<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录及子目录中，查找具有 u（2）&amp;&amp; g（2）权限的文件或目录</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find ./ -perm /220</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find ./ -perm /u+w,g+w</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ind ./ -perm /u=w,g=w</span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -use/nouser/group/nogroup 按文件所属用户及所属用户组查找 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在 <span class="variable">$HOME</span> 目录中查找文件属主为 sam 的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find ~ -user sam –<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找无有效属主的文件，即其属用户在 /etc/passwd 中不存在（用户被删除）</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /home -nouser –<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 /apps 目录下查找属于 mysql 用户组的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /apps -group mysql –<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找无有效所属组的文件，即其所属的用户组在 /etc/groups 中不存在（用户组被删除）</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find / –nogroup -<span class="built_in">print</span></span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -mtime/atime/ctime 按文件（更改/访问/状态）时间查找 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查找 2 天内被更改过的文件</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -mtime -2 -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找 2 天前被更改过的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -mtime +2 -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找一天内被访问的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -atime -1 -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找一天前被访问的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -atime +1 -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找一天内状态被改变的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -ctime -1 -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找一天前状态被改变的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> $ find . -ctime +1 -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 理解 &gt;&gt;&gt; +2（2 天前，比两天多）/ -2（2 天以内，比两天少）</span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -newer 按文件新旧（更改时间）查找 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查找比 aa.txt 新的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -newer <span class="string">&quot;aa.txt&quot;</span> -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找比 aa.txt 旧的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . ! -newer <span class="string">&quot;aa.txt&quot;</span> -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找比 aa.txt 新，比 bb.txt 旧的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -newer <span class="string">&#x27;aa.txt&#x27;</span> ! -newer <span class="string">&#x27;bb.txt&#x27;</span> -<span class="built_in">type</span> f -<span class="built_in">print</span></span> </span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -size 按文件大小查找 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查找超过 1M 的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find / -size +1M -<span class="built_in">type</span> f -<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找等于 100 字节 的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -size 100c -<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找小于 32k 的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -size -32k -<span class="built_in">print</span></span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -mount 查找时不跨越文件系统 mount 点 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 从当前目录开始查找位于本文件系统中文件名以 XC 结尾的文件（不进入其他文件系统）</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -name <span class="string">&#x27;*.XC&#x27;</span> -mount –<span class="built_in">print</span></span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -type 按文件类型查找 ↓↓↓↓↓↓</font></p>
<p>查找某一类型的文件：</p>
<ul>
<li>b - 块设备文件，比如磁盘；</li>
<li>d - 目录</li>
<li>c - 字符设备文件，比如鼠标键盘网卡；</li>
<li>p - 管道文件；</li>
<li>l - 符号链接文件；</li>
<li>f - 普通文件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在 <span class="variable">$HOME</span> 目录下查找所有的目录</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find ~ -<span class="built_in">type</span> d –<span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录下查找，除目录以外的所有类型的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . ! -<span class="built_in">type</span> d –<span class="built_in">print</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 /etc 目录下查找所有的符号链接文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /etc -<span class="built_in">type</span> l –<span class="built_in">print</span></span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -a/-o/-not 支持逻辑运算 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录下搜索大于 2KB，并且文件类型是普通文件的文件：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find.-size +2k -a -<span class="built_in">type</span> f</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录下搜索文件名要么是 <span class="built_in">test</span> 开头的文件，要么是 valid 开头的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find /etc/init -name <span class="string">&quot;test*&quot;</span> -o -name <span class="string">&quot;valid*&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录下搜索文件名不是 <span class="built_in">test</span> 的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find. -not -name <span class="built_in">test</span></span></span><br></pre></td></tr></table></figure>

<p><font color="orange">↓↓↓↓↓↓ -exec/-ok 对查找匹配到的文件，执行其后所给出的 Shell 命令：[command {} ;] ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 删除文件大小为零的文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find ./ -size 0 -<span class="built_in">exec</span> rm &#123;&#125; \;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> rm -i `find ./ -size 0`</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> -ok 以一种更为安全的模式（询问），执行其后所给出的 Shell 命令</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在当前目录中查找所有文件名以 .LOG 结尾、更改时间在 5 日以上的文件，并删除它们，只不过在删除之前先给出提示</span></span><br><span class="line">find . -name &quot;*.conf&quot; -mtime +5 -ok rm &#123; &#125; \;</span><br></pre></td></tr></table></figure>

<p>一些常用组合命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查找当前路径下的所有普通文件，并把它们列出来查看其详细信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -<span class="built_in">type</span> f -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除 logs 目录下更新时间为五日以上的文件：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find logs -<span class="built_in">type</span> f -mtime +5 -<span class="built_in">exec</span> rm &#123;&#125; \;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除当前路径下以 .<span class="built_in">log</span> 结尾的五日以上的文件，删除之前要确认：</span></span><br><span class="line">find . -name &quot;*.log&quot; -mtime +5 -ok rm &#123;&#125; \;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找 test.txt 并备份为 test.txt.bak</span></span><br><span class="line"><span class="meta">$</span><span class="bash">  $ find . -name <span class="string">&#x27;test.txt&#x27;</span> -<span class="built_in">exec</span> cp &#123;&#125; &#123;&#125;.bak \;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询当天修改过的文件:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find ./ -mtime -1 -<span class="built_in">type</span> f -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除一些特殊很难删除的文件（\-abc、“a b”）:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -name <span class="string">&quot;*abc&quot;</span> -<span class="built_in">print</span> -ok rm &#123;&#125; \;</span></span><br><span class="line">./\-abc</span><br><span class="line">&lt; rm ... ./\-abc &gt; ? yes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">  find 在有些系统中会一次性得到将匹配到的文件都传给 <span class="built_in">exec</span>，但系统对 <span class="built_in">exec</span> 的命令长度做限制，就会产生：“参数列太长” 的异常。</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  xargs 登场了~~~~ xargs 是部分取传来的文件。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用 xargs 测试文件分类</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find / -<span class="built_in">type</span> f -<span class="built_in">print</span> |xargs file</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将 core 文件信息查询结果报存到 core.log 日志:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -name <span class="string">&quot;core*&quot;</span> -<span class="built_in">print</span> |xargs <span class="built_in">echo</span> <span class="string">&quot; &quot;</span>&gt;/tmp/core.log</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> find . -name * -<span class="built_in">print</span> |xargs grep <span class="string">&quot;DBO&quot;</span></span></span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p>👇👇👇 <strong>有没有 -print 的区别</strong> 👇👇👇</p>
<p>以查找目录并列出目录下的文件为例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 加 -<span class="built_in">print</span></span></span><br><span class="line">[root@localhost centos]# find temp/ -type d -print -exec ls &#123;&#125; \;</span><br><span class="line">temp/</span><br><span class="line">test  test.txt  TEST.txt  valid</span><br><span class="line">temp/valid</span><br><span class="line">test.txt  valid.txt</span><br><span class="line">temp/test</span><br><span class="line">test.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 不加 -<span class="built_in">print</span></span></span><br><span class="line">[root@localhost centos]# find temp/ -type d -exec ls &#123;&#125; \;</span><br><span class="line">test  test.txt  TEST.txt  valid</span><br><span class="line">test.txt  valid.txt</span><br><span class="line">test.txt</span><br></pre></td></tr></table></figure>

<p>为找到的每一个目录单独执行 ls 命令，没有选项 -print 时文件列表前一行不会显示目录名称。</p>
<hr>
<h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h3><p>功能描述： 从文件中（File）查找与 文本模式（Pattern）匹配的行并输出。</p>
<p>使用需知：一般不单独使用，通常与管道 <code>|</code> 配合使用，以过滤某个命令的输出。</p>
<p>语法格式：<code>grep [Options] Pattern [file....]</code>，常见 Options 说明：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-?                           &gt;&gt;&gt;&gt; 同时显示匹配行上下的几行 (grep -2 pattern filename 同时显示匹配行的上下 2 行内容)</span><br><span class="line">-c（--count）                &gt;&gt;&gt;&gt; 只打印匹配的行数（不显示匹配内容）</span><br><span class="line">-h（--no-filename）          &gt;&gt;&gt;&gt; 当搜索多个文件时，不显示匹配文件名前缀。</span><br><span class="line">-i（--ignore-case）          &gt;&gt;&gt;&gt; 匹配时忽略大小写差别</span><br><span class="line">-l（--files-with-matches）   &gt;&gt;&gt;&gt; 打印匹配的文件清单</span><br><span class="line">-L（--files-without-match）  &gt;&gt;&gt;&gt; 打印不匹配模板的文件清单</span><br><span class="line">-n（--line-number）          &gt;&gt;&gt;&gt; 在匹配的行前面打印行号</span><br><span class="line">-v（--revert-match）         &gt;&gt;&gt;&gt; 反检索（只显示不匹配的行）</span><br><span class="line">-V（--version）              &gt;&gt;&gt;&gt; 显示软件版本信息</span><br></pre></td></tr></table></figure>

<p>关于文本匹配模式 Pattern 的用法，即正则表达式用法，可见【<a href="https://www.orangeshare.cn/2016/10/01/yi-wen-xue-hui-zheng-ze-biao-da-shi-yu-fa/">一文学会正则表达式语法</a>】。</p>
<p>grep 使用样例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 常见用法格式：Command | grep pattern</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -l | grep <span class="string">&#x27;^a&#x27;</span>                          <span class="comment"># 通过管道过滤 ls -l 输出的内容，只显示以 a 开头的行。</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep <span class="string">&#x27;test&#x27;</span> d*                             <span class="comment"># 显示所有名称以 d 开头的文件中，包含 test 的行</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep <span class="string">&#x27;test&#x27;</span> aa bb cc                       <span class="comment"># 显示 aa，bb，cc 文件中，匹配 test 的行</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep -i pattern files                      <span class="comment"># 不区分大小写地搜索。默认情况区分大小写</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep -l pattern files                      <span class="comment"># 只列出匹配的文件名，</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep -L pattern files                      <span class="comment"># 列出不匹配的文件名，</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep -w pattern files                      <span class="comment"># 完全匹配（匹配 magic，而不是 magical）</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep -c number pattern files               <span class="comment"># 分别显示匹配的上下文 [number] 行，同 Options `-?`</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep pattern1 | pattern2 files             <span class="comment"># 显示匹配 pattern1 或 pattern2 的行，</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep pattern1 files | grep pattern2        <span class="comment"># 显示既匹配 pattern1 又匹配 pattern2 的行。</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 多文件查找</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> grep --count forth temp/test.txt temp/valid/test.txt</span> </span><br><span class="line">temp/test.txt:1</span><br><span class="line">temp/valid/test.txt:1</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="which-whereis"><a href="#which-whereis" class="headerlink" title="which/whereis"></a>which/whereis</h3><p>查找命令文件的相关信息：</p>
<p><strong>[1] &gt;&gt;&gt; which</strong></p>
<p>功能描述： 从系统环境变量 PATH（echo $PATH）中，搜索某个系统命令的位置，并返回第一个搜索结果。</p>
<p>作用 &gt;&gt;&gt; 可用于查看某个系统命令是否存在？！！以及当前系统环境中执行的到底是哪一个位置（版本）的命令。</p>
<p>语法格式：<code>which [Command]</code>，使用样例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">which</span> ll</span></span><br><span class="line">alias ll=&#x27;ls -l --color=auto&#x27;</span><br><span class="line">        /usr/bin/ls</span><br></pre></td></tr></table></figure>

<p>可以发现，使用 which 查看时，还会显示查询系统命令的别名（alias）。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[2] &gt;&gt;&gt; whereis</strong></p>
<p>功能描述： 只能用于程序名的搜索。</p>
<p>作用 &gt;&gt;&gt; 可用于查看系统中某个程序（命令）相关的：二进制文件（binary） &amp;&amp; man 帮助说明文件（man） &amp;&amp; 源代码文件（source）。</p>
<p>语法格式：<code>which [Options:b/m/s] [Command]</code>，使用样例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> whereis vim</span></span><br><span class="line">vim: /usr/bin/vim /usr/share/vim /usr/share/man/man1/vim.1.gz</span><br><span class="line"></span><br><span class="line">[root@localhost centos]# whereis -b vim</span><br><span class="line">vim: /usr/bin/vim /usr/share/vim</span><br><span class="line">[root@localhost centos]# whereis -m vim</span><br><span class="line">vim: /usr/share/man/man1/vim.1.gz</span><br><span class="line">[root@localhost centos]# whereis -s vim</span><br><span class="line">[root@localhost centos]#（未查询到源码文件）</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="locate-updatedb"><a href="#locate-updatedb" class="headerlink" title="locate/updatedb"></a>locate/updatedb</h3><p>本地文件信息数据库模糊查找：</p>
<p><strong>[1] &gt;&gt;&gt; locate</strong></p>
<p>功能描述： 从系统文件信息数据库中搜索 &gt;&gt;&gt; 常用命令（Command）&amp;&amp; 文件（File）&amp;&amp; 关键字（Keywords），速度非常快。</p>
<p>使用须知 &gt;&gt;&gt; 不搜索具体目录，而是搜索一个包含本地所有文件信息数据库（Linux 自动创建该数据库，并且每天自动更新一次，可能查询不到最新创建的文件）。</p>
<p>语法格式：<code>locate [Options] [Pattern]</code>，使用样例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>当新创建一个文件时，此时数据库还没有更新，此时使用 locate 快速定位新产生文件，是无法找到的。可以在使用前配合 updatedb 命令更新数据库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> updatedb</span></span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt; updatedb 用于建立/更新整个系统文件信息的数据库</strong></p>
<hr>
<h2 id="File-Decompression"><a href="#File-Decompression" class="headerlink" title="File Decompression"></a>File Decompression</h2><p>Windows &amp;&amp; Linux 中常见的压缩文件格式：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.zip &amp;&amp; .rar               &gt;&gt;&gt;&gt; Windows OS 中常见压缩文件扩展名</span><br><span class="line">tar                        &gt;&gt;&gt;&gt; Linux OS 中打包文件的扩展名</span><br><span class="line">.gz                        &gt;&gt;&gt;&gt; Linux OS 中压缩文件的扩展名</span><br><span class="line">.tar.gz                    &gt;&gt;&gt;&gt; Linux OS 中打包并压缩文件的扩展名</span><br></pre></td></tr></table></figure>

<p>你应当掌握上述文件格式的打包、解压缩方法，以应对某些特殊场景需要：</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<h3 id="gzip-gunzip"><a href="#gzip-gunzip" class="headerlink" title="gzip/gunzip"></a>gzip/gunzip</h3><p>Linux 下的文件解压缩：</p>
<p><strong>[1] &gt;&gt;&gt; gzip</strong></p>
<p>功能描述： 压缩文件（File），生成 <code>.gz</code> 压缩文件。</p>
<p>使用须知 &gt;&gt;&gt; 只能压缩文件（File），不可以压缩目录（Dir），并且不保留原文件。</p>
<p>语法格式：<code>gzip [Options:v/d/t] [File...]</code>，使用样例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 压缩文件 file，并显示命令执行过程信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gzip -v file</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 检查压缩文件完整性：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gzip -vt file.gz</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以使用 -d 参数，对 .gz 文件进行减压：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gzip -vd test.txt</span></span><br></pre></td></tr></table></figure>

<p>某文件被压缩后，无法直接使用 <code>cat</code> 命令查看文件内容，你可以：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> zcat file.gz</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者：</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim file.gz</span></span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt; gunzip</strong></p>
<p>功能描述： 解压缩文件（File.gz）</p>
<p>使用须知 &gt;&gt;&gt; “gunzip -r” 依然只会递归解压缩指定目录下的压缩文件（.gz），而不会解打包（.tar）。</p>
<p>语法格式：<code>gunzip [Options:r/v] [File...]</code>，使用样例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 解压 file.gz 压缩文件，并显示命令执行过程信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gunzip -v file.gz</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 递归解压目录 dir1 下的所有 .gz 压缩文件，并显示命令执行过程信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gunzip -rv dir1</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h3><p>功能描述：能够将一组文件和目录打包成单个归档文件（.tar），也可以从归档文件中提取出文件和目录。</p>
<p>使用须知 &gt;&gt;&gt; 通过结合不同的选项，你可以实现 文件管理、备份和解压缩等功能。</p>
<p>语法格式：<code>tar [Options] [File]...</code>，常用选项及其功能：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-c                           &gt;&gt;&gt;&gt; 创建新的归档文件（打包）</span><br><span class="line">-x                           &gt;&gt;&gt;&gt; 从归档文件中提取文件（解包）</span><br><span class="line"></span><br><span class="line">-f &lt;filename&gt;                &gt;&gt;&gt;&gt; 指定归档文件名</span><br><span class="line"></span><br><span class="line">-v                           &gt;&gt;&gt;&gt; 显示操作的详细信息</span><br><span class="line"></span><br><span class="line">-z                           &gt;&gt;&gt;&gt; 通过 gzip 解压缩归档文件</span><br><span class="line">-j                           &gt;&gt;&gt;&gt; 通过 bzip2 解压缩归档文件</span><br><span class="line"></span><br><span class="line">-C &lt;Dir&gt;                     &gt;&gt;&gt;&gt; 切换到指定目录</span><br><span class="line">--exclude=&lt;pattern&gt;          &gt;&gt;&gt;&gt; 排除匹配模式的文件</span><br><span class="line">--list                       &gt;&gt;&gt;&gt; 列出归档文件中的内容</span><br></pre></td></tr></table></figure>

<p>使用样例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">### 1. 打包文件和目录 ###</span><br><span class="line">#</span><br><span class="line"># 将 /home/user/documents 目录打包（-c）成一个，名为（-f） documents.tar 的归档文件（包含了 documents 目录下的所有内容）：</span><br><span class="line">$ tar -cf documents.tar /home/user/documents</span><br><span class="line"></span><br><span class="line">### 2. 解包归档文件 ###</span><br><span class="line">#</span><br><span class="line"># 将特定（-f）归档文件 documents.tar 解包（-x）到当前目录，以提取归档文件中内容：</span><br><span class="line">$ tar -xf documents.tar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 3. 压缩归档文件 ###</span><br><span class="line">#</span><br><span class="line"># 可以在归档文件的同时，使用压缩工具（-z/-f）压缩归档文件，以创建压缩的归档文件（documents.tar.gz）：</span><br><span class="line">$ tar -zcvf documents.tar.gz /home/user/documents</span><br><span class="line"></span><br><span class="line">### 4. 解压缩归档文件 ###</span><br><span class="line">#</span><br><span class="line"># 可以对压缩的归档文件（documents.tar.gz），执行先解压缩，然后解包归档文件的操作:</span><br><span class="line">$ tar -zxvf documents.tar.gz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 5. 列出归档文件内容 ###</span><br><span class="line">#</span><br><span class="line"># 可以使用 --list 选项来列出指定（-f）归档文件中的内容，而无需实际解包：</span><br><span class="line">$ tar --list -f documents.tar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 6. 排除特定文件 ###</span><br><span class="line">#</span><br><span class="line"># 可以使用 --exclude 选项来指定要排除的文件或目录的模式（`*.txt`），以避免将其包含在归档中：</span><br><span class="line">$ tar -cf documents.tar --exclude=&#x27;*.txt&#x27; /home/user/documents</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 7.  保留文件权限和所有权 ###</span><br><span class="line">#</span><br><span class="line"># 可以通过 --preserve-permissions 选项来创建一个保留权限和所有权的归档文件：</span><br><span class="line">$ tar --preserve-permissions -cf documents.tar /home/user/documents</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 8. 保留时间戳 ###</span><br><span class="line">#</span><br><span class="line"># 备份时，可以通过 --atime-preserve 选项来保留文件的访问时间戳：</span><br><span class="line">$ tar --atime-preserve -cf backup.tar /path/to/backup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 9. 增量备份 ###</span><br><span class="line">#</span><br><span class="line"># 结合使用 --listed-incremental 选项和一个状态文件，来进行增量备份（只备份自上次备份以来发生更改的文件），以节省时间和存储空间：</span><br><span class="line">$ tar --create --file=backup-$(date +%Y%m%d).tar --listed-incremental=backup.snar /path/to/backup</span><br><span class="line">#</span><br><span class="line"># 这将创建一个带有日期后缀的增量备份归档文件，并使用 backup.snar 文件来跟踪文件状态。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 10. 使用文件列表 ###</span><br><span class="line">#</span><br><span class="line"># 可以通过 --files-from 选项，来从一个文件列表中读取要包含在归档中的文件和目录：</span><br><span class="line">$  tar -cf backup.tar --files-from=files.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 11. 压缩级别控制 ###</span><br><span class="line">#</span><br><span class="line"># 在压缩归档文件时（-zcvf），使用不同的压缩级别来平衡压缩速度和压缩率（压缩级别越高，压缩率越高，但耗时也越长）；</span><br><span class="line"># 可以在使用 -z 选项的同时，指定不同的压缩级别（1-9）：</span><br><span class="line">$ tar -czvf documents.tar.gz -9 /home/user/documents</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="zip-unzip"><a href="#zip-unzip" class="headerlink" title="zip/unzip"></a>zip/unzip</h3><p>zip 是个使用广泛的压缩程序，文件经它压缩后会另外产生具有 <code>.zip</code> 扩展名的压缩文件。安装方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> For Ubuntu/Debian</span></span><br><span class="line">sudo apt-get install zip unzip</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> For CentOS</span></span><br><span class="line">yum -y install zip unzip</span><br></pre></td></tr></table></figure>

<p>Linux 中 zip 命令用于压缩文件，unzip 命令用于解压文件。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[1] &gt;&gt;&gt; zip</strong></p>
<p>功能描述：用来压缩文件（.zip）或目录（Dir），以实现对文件或目录的打包（归档）。</p>
<p>语法格式：<code>zip [Options] [File]...</code>，常用选项及其功能：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-r                           &gt;&gt;&gt;&gt; 递归地将一个目录及其所有子目录和文件压缩到 ZIP 文件中</span><br><span class="line">-q                           &gt;&gt;&gt;&gt; 在压缩文件时启用静默模式（不显示压缩过程的详细信息）</span><br><span class="line">-d                           &gt;&gt;&gt;&gt; 从现有的 ZIP 文件中删除指定的文件或目录</span><br><span class="line">-u                           &gt;&gt;&gt;&gt; 更新（update）现有 ZIP 文件（将新的文件 或 修改后的文件 添加到 ZIP 存档中）</span><br><span class="line">-m                           &gt;&gt;&gt;&gt; 用于移动（归档）文件到一个 ZIP 压缩文件中，并在移动后将源文件删除</span><br><span class="line">-e                           &gt;&gt;&gt;&gt; 用于对 ZIP 压缩文件进行加密</span><br><span class="line">-z                           &gt;&gt;&gt;&gt; 为压缩文件添加注释</span><br></pre></td></tr></table></figure>

<p>使用示例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">### 1. 压缩文件夹，解决 80% 应用场景 ###</span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line"># 压缩多个文件：</span><br><span class="line">$ zip -r file.zip file1 file2 ... fileN</span><br><span class="line">#</span><br><span class="line"># 保留层级结构压缩，并指定 ZIP 包存放位置：</span><br><span class="line">$ zip -r /home/temp/test.zip /home/test</span><br><span class="line">#</span><br><span class="line"># 压缩指定类型的文件：</span><br><span class="line">$ zip -r test.zip  *.txt</span><br><span class="line">#</span><br><span class="line"># 压缩文件并排除指定文件（-x/--exclude）：</span><br><span class="line">$ zip -r test.zip /home/test -x &quot;/home/test/test01/*&quot;</span><br><span class="line">$ zip -r test.zip /home/test --exclude &quot;/home/test/test01/*&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 压缩文件时不显示压缩过程的详细信息（-q）:</span><br><span class="line">$ zip -rq file.zip file1 file2 ... fileN</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 可以从 ZIP 存档中删除不需要的文件或目录：</span><br><span class="line">$ zip -d test.zip /home/test/a.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 用于更新现有的 ZIP 文件，将新的文件（添加）或修改后的文件（覆盖）更新到 ZIP 存档中：</span><br><span class="line">$ zip -u test.zip b.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 用于移动（归档）文件到一个 ZIP 压缩文件中，并在移动后将源文件删除：</span><br><span class="line">$ zip -m test.zip a.txt b.log</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 用于对 ZIP 文件进行加密（需要设置一个解压密码）</span><br><span class="line">$ zip -e file.zip file1 file2 ... fileN</span><br><span class="line"></span><br><span class="line"># 为压缩文件添加注释：</span><br><span class="line">$ zip -z test.zip</span><br><span class="line"># 可通过 unzip 命令进行查看（压缩包中包含的文件）：</span><br><span class="line">$ zipinfo -l test.zip </span><br><span class="line">$ unzip -l test.zip</span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt; unzip</strong></p>
<p>功能描述：用来解压缩文件（.zip），以实现对文件的解包。</p>
<p>使用样例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 将 test.zip 压缩包文件解压到 /home/demo 目录下，并显示详细的解压信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> unzip /home/test.zip -vd /home/demo</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="bzip2-bunzip2"><a href="#bzip2-bunzip2" class="headerlink" title="bzip2/bunzip2"></a>bzip2/bunzip2</h3><p>非常类似于 gzip/gunzip，但 bzip2/bunzip2 压缩比较高，适合一些大型文件的解压缩。</p>
<p><strong>[1] &gt;&gt;&gt; bunzip2</strong></p>
<p>功能描述： 压缩文件（File），生成 .bz2 压缩文件。</p>
<p>使用须知 &gt;&gt;&gt; 只能压缩文件（File），不可以压缩目录（Dir），不会保留原文件。</p>
<p>语法格式：<code>bzip2 [Options:v/d/-k] [File...]</code>，使用样例如下：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 压缩文件 file，并显示命令执行过程信息：</span><br><span class="line">$ bzip2 -v file</span><br><span class="line"># 压缩文件 file，并显示命令执行过程信息（保留源文件）：</span><br><span class="line">$ bzip2 -kv file</span><br><span class="line"></span><br><span class="line"># 检查压缩文件完整性：</span><br><span class="line">$ bzip2 -vt file.gz</span><br><span class="line"></span><br><span class="line"># 可以使用 -d 参数，对 .gz 文件进行减压：</span><br><span class="line">$ bzip2 -vd test.txt</span><br></pre></td></tr></table></figure>

<p><strong>[2] &gt;&gt;&gt; bunzip2</strong></p>
<p>功能描述： 解压缩文件（File.bz2）</p>
<p>使用须知 &gt;&gt;&gt; bunzip2 -r” 依然只会递归解压缩指定目录下的压缩文件（.bz2），而不会解打包（.tar）。</p>
<p>语法格式：<code>bunzip2 [Options:v/k] [File...]</code>，使用样例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 解压 file.gz 压缩文件，并显示命令执行过程信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> bunzip2 -v file.bz2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 解压 file.gz 压缩文件，并显示命令执行过程信息（保留压缩文件）：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gunzip -vk file.bz2</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="View-Linux-Distr-Version-Info"><a href="#View-Linux-Distr-Version-Info" class="headerlink" title="View Linux-Distr Version Info"></a>View Linux-Distr Version Info</h2><p>对于诸如 RHEL、Debian、openSUSE、Arch Linux 这几种主流发行版来说，它们各自拥有不同的包管理器，以及指令工具。如果不知道使用的是哪一个发行版的系统，就无法正确使用相关的包管理器或其它工具指令。</p>
<p>那么，如何查看 Linux 发行版名称和版本号？！！这里提供几种查看方法 &gt;&gt;&gt;&gt;</p>
<p><strong>[1] &gt;&gt;&gt; 版本信息文件</strong></p>
<p>在 <code>/etc</code> 目录下放置了很多记录着发行版各种信息的文件（以 <code>release</code> 结尾的文件），每个发行版都各自有一套这样记录着相关信息的文件。</p>
<p>你可以通过查看这些文件来获取发行版版本号信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 1. For Debian/Ubuntu ###</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls /etc/ | grep <span class="string">&quot;release&quot;</span></span></span><br><span class="line">lsb-release</span><br><span class="line">os-release</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/lsb-release</span></span><br><span class="line">DISTRIB_ID=Ubuntu</span><br><span class="line">DISTRIB_RELEASE=20.04</span><br><span class="line">DISTRIB_CODENAME=focal</span><br><span class="line">DISTRIB_DESCRIPTION=&quot;Ubuntu 20.04.6 LTS&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/os-release</span></span><br><span class="line">NAME=&quot;Ubuntu&quot;</span><br><span class="line">VERSION=&quot;20.04.6 LTS (Focal Fossa)&quot;</span><br><span class="line">ID=ubuntu</span><br><span class="line">ID_LIKE=debian</span><br><span class="line">PRETTY_NAME=&quot;Ubuntu 20.04.6 LTS&quot;</span><br><span class="line">VERSION_ID=&quot;20.04&quot;</span><br><span class="line">HOME_URL=&quot;https://www.ubuntu.com/&quot;</span><br><span class="line">SUPPORT_URL=&quot;https://help.ubuntu.com/&quot;</span><br><span class="line">BUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;</span><br><span class="line">PRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;</span><br><span class="line">VERSION_CODENAME=focal</span><br><span class="line">UBUNTU_CODENAME=focal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 2. For RHEL/CentOS/Fedora ###</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls /etc/ | grep <span class="string">&quot;release&quot;</span></span></span><br><span class="line">centos-release</span><br><span class="line">centos-release-upstream</span><br><span class="line">os-release</span><br><span class="line">redhat-release</span><br><span class="line">system-release</span><br><span class="line">system-release-cpe</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/centos-release</span></span><br><span class="line">CentOS Linux release 7.9.2009 (Core)</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/os-release</span></span><br><span class="line">NAME=&quot;CentOS Linux&quot;</span><br><span class="line">VERSION=&quot;7 (Core)&quot;</span><br><span class="line">ID=&quot;centos&quot;</span><br><span class="line">ID_LIKE=&quot;rhel fedora&quot;</span><br><span class="line">VERSION_ID=&quot;7&quot;</span><br><span class="line">PRETTY_NAME=&quot;CentOS Linux 7 (Core)&quot;</span><br><span class="line">ANSI_COLOR=&quot;0;31&quot;</span><br><span class="line">CPE_NAME=&quot;cpe:/o:centos:centos:7&quot;</span><br><span class="line">HOME_URL=&quot;https://www.centos.org/&quot;</span><br><span class="line">BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;</span><br><span class="line"></span><br><span class="line">CENTOS_MANTISBT_PROJECT=&quot;CentOS-7&quot;</span><br><span class="line">CENTOS_MANTISBT_PROJECT_VERSION=&quot;7&quot;</span><br><span class="line">REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;</span><br><span class="line">REDHAT_SUPPORT_PRODUCT_VERSION=&quot;7&quot;</span><br></pre></td></tr></table></figure>

<p>此外，<code>/proc/version</code> 文件中也记录了 Linux 内核的版本、用于编译内核的 GCC 的版本、内核编译的时间，以及内核编译者的用户名。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat /proc/version</span></span><br><span class="line">Linux version 5.15.133.1-microsoft-standard-WSL2 (root@1c602f52c2e4) (gcc (GCC) 11.2.0, GNU ld (GNU Binutils) 2.37) #1 SMP Thu Oct 5 21:02:42 UTC 2023</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[2] &gt;&gt;&gt; lsb_release 命令</strong></p>
<p>LSB（Linux Standard Base）是一个能打印发行版具体信息的标准库（包括发行版名称、版本号、代号等）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> lsb_release -a</span></span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Ubuntu</span><br><span class="line">Description:    Ubuntu 20.04.6 LTS</span><br><span class="line">Release:        20.04</span><br><span class="line">Codename:       focal</span><br></pre></td></tr></table></figure>

<p>Mini 版本的 Linux 中可能未安装有 LSB 库，显示 <code>bash: lsb_release: command not found...</code>。你可以安装后使用（以 CentOS 为例）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum -y install redhat-lsb</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> lsb_release -a</span></span><br><span class="line">LSB Version:    :core-4.1-amd64:core-4.1-noarch:cxx-4.1-amd64:cxx-4.1-noarch:desktop-4.1-amd64:desktop-4.1-noarch:languages-4.1-amd64:languages-4.1-noarch:printing-4.1-amd64:printing-4.1-noarch</span><br><span class="line">Distributor ID: CentOS</span><br><span class="line">Description:    CentOS Linux release 7.9.2009 (Core)</span><br><span class="line">Release:        7.9.2009</span><br><span class="line">Codename:       Core</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[3] &gt;&gt;&gt; uname 命令</strong></p>
<p>uname（Unix Name）是一个打印系统信息的工具（包括内核名称、版本号、系统详细信息以及所运行的操作系统等）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> uname -a</span></span><br><span class="line">Linux LAPTOP-SNOSCKOB 5.15.133.1-microsoft-standard-WSL2 #1 SMP Thu Oct 5 21:02:42 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure>

<p>这里，由于是在 WSL Ubuntu 环境中使用，显示的操作系统版本是 <code>5.15.133.1-microsoft-standard-WSL2</code>。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[4] &gt;&gt;&gt; dmesg 命令</strong></p>
<p>dmesg（Display Message) 或 (Driver Message)）是大多数类 Unix 操作系统上的一个命令，用于打印内核的消息缓冲区的信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> dmesg | grep <span class="string">&quot;Linux&quot;</span></span></span><br><span class="line">[    0.000000] Linux version 5.15.133.1-microsoft-standard-WSL2 (root@1c602f52c2e4) (gcc (GCC) 11.2.0, GNU ld (GNU Binutils) 2.37) #1 SMP Thu Oct 5 21:02:42 UTC 2023</span><br><span class="line">[    0.103553] ACPI: Added _OSI(Linux-Dell-Video)</span><br><span class="line">[    0.103553] ACPI: Added _OSI(Linux-Lenovo-NV-HDMI-Audio)</span><br><span class="line">[    0.103553] ACPI: Added _OSI(Linux-HPI-Hybrid-Graphics)</span><br><span class="line">[    0.110752] pps_core: LinuxPPS API ver. 1 registered</span><br><span class="line">[    0.521577] usb usb1: Manufacturer: Linux 5.15.133.1-microsoft-standard-WSL2 vhci_hcd</span><br><span class="line">[    0.529023] usb usb2: Manufacturer: Linux 5.15.133.1-microsoft-standard-WSL2 vhci_hcd</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Network-Communication"><a href="#Network-Communication" class="headerlink" title="Network Communication"></a>Network Communication</h2><p>Linux 中的网络通信相关指令：</p>
<h3 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h3><p>Linux 中的 <code>ping</code> 指令可用于检测系统的网络连通性，其命令格式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ping [options] &lt;ip/domain&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 常用参数</span></span><br><span class="line">-c &lt;count&gt;         stop after &lt;count&gt; replies</span><br><span class="line">-s &lt;size&gt;          use &lt;size&gt; as number of data bytes to be sent</span><br></pre></td></tr></table></figure>

<p>Example &gt;&gt;&gt;</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. ping 本地网络回环地址，不手动终止会一直 ping 下去：</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ping localhost</span></span><br><span class="line">PING localhost (127.0.0.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.209 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.059 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.028 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=4 ttl=64 time=0.037 ms</span><br><span class="line">^C</span><br><span class="line">--- localhost ping statistics ---</span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 3086ms</span><br><span class="line">rtt min/avg/max/mdev = 0.028/0.083/0.209/0.073 ms</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. ping 4 次后终止：</span></span><br><span class="line"></span><br><span class="line">ping -c 4 localhost</span><br><span class="line">PING localhost (127.0.0.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.292 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.210 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.038 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=4 ttl=64 time=0.026 ms</span><br><span class="line"></span><br><span class="line">--- localhost ping statistics ---</span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 3079ms</span><br><span class="line">rtt min/avg/max/mdev = 0.026/0.141/0.292/0.113 ms</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. 设置 ping 每次发送数据包的大小：</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ping -c 4 -s 64 localhost</span></span><br><span class="line">PING localhost (127.0.0.1) 64(92) bytes of data.</span><br><span class="line">72 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.023 ms</span><br><span class="line">72 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.025 ms</span><br><span class="line">72 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.046 ms</span><br><span class="line">72 bytes from localhost (127.0.0.1): icmp_seq=4 ttl=64 time=0.029 ms</span><br><span class="line"></span><br><span class="line">--- localhost ping statistics ---</span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 3054ms</span><br><span class="line">rtt min/avg/max/mdev = 0.023/0.030/0.046/0.009 ms</span><br></pre></td></tr></table></figure>

<p><font color="red">↓↓↓↓↓↓ 实际应用场景 ↓↓↓↓↓↓</font></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 1. ping 127.0.0.1/localhost &gt;&gt;&gt; PING 本地回环地址 &gt;&gt;&gt; 验证本机 TCP/IP 协议是否正常？！！</span><br><span class="line"></span><br><span class="line"># 2. ping &lt;localhost_ip&gt; &gt;&gt;&gt; PING 本机 IP 地址 &gt;&gt;&gt; 验证本机的网络适配器（网卡）是否正常工作？！！</span><br><span class="line"></span><br><span class="line"># 3. ping &lt;target_pc_ip&gt; &gt;&gt;&gt; PING 局域网（同网段）内计算机 IP，不通则表明网络线路出现故障；</span><br><span class="line">                             若网络中还包含有路由器/交换机：</span><br><span class="line">                                1）应先 PING 路由器在本网段端口的 IP，不通则此段线路有问题；</span><br><span class="line">                                2）若通，则再 PING 路由器在目标计算机所在网段的端口 IP，不通则是路由出现故障；</span><br><span class="line">                                3）若通，则再 PING 目标计算机 IP 地址。</span><br><span class="line">                        &gt;&gt;&gt; 验证主机是否存在，或两台主机间网络是否通畅？！！</span><br><span class="line"></span><br><span class="line"># 4. ping &lt;external_ip/domain&gt; &gt;&gt;&gt; PING 网址（域名或域名映射的 IP）&gt;&gt;&gt; 验证是否可以连接外网（上网）？！！</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ip-ifconfig"><a href="#ip-ifconfig" class="headerlink" title="ip/ifconfig"></a>ip/ifconfig</h3><p>Linux <code>ip</code> &amp;&amp; <code>ifconfig</code> 命令类似，用于显示或设置网络设备。</p>
<blockquote>
<p>ip 是 Linux 加强版的的网络配置工具，用于代替较古老的 ifconfig 命令。其中，ip 工具包含于 <code>iproute/iproute2</code> 包，ifconfig 包含于 <code>net-tools</code> 包，以解决 <code>not found</code> 问题。</p>
</blockquote>
<p>需要注意的是 &gt;&gt;&gt; 通过 ip/ifconfig 进行网卡信息的配置后，<font color="red">“可能” 只是临时生效（不可靠），方别进行快速连网实验</font>。想要永久生效需要通过网络的配置文件进行设置。</p>
<p>下面分别来看 ip &amp;&amp; ifconfig 的使用：</p>
<hr>
<h4 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h4><p>虽然其作为较早期版本的网络设备命令，但现在仍能看见有人在使用，你只需关注其最基本用法，将更多精力放在学习 ip 上（毕竟是新一代工具）。</p>
<p><font color="red">↓↓↓↓↓↓ 查看网络设备信息 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 只查看激活状态的网卡信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示所有（激活/未激活）网络设备的信息</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig -a</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 网卡信息：</span></span><br><span class="line">enp0s3: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255</span><br><span class="line">        inet6 fe80::13ee:c8bd:93f2:ac21  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 08:00:27:8a:2a:7f  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 44705  bytes 66008628 (66.0 MB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 4580  bytes 314661 (314.6 KB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 本地回环：</span></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 240  bytes 21884 (21.8 KB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 240  bytes 21884 (21.8 KB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>

<p>可见，当前系统中存在一块名为：<code>enp0s3</code> 的网卡。网卡信息说明 &gt;&gt;&gt; <code>inet</code> 表示网卡 IP 地址；<code>broadcast</code> 表示广播地址；<code>netmask</code> 表示子网掩码；<code>ether</code> 表示网卡的物理（Mac）地址。</p>
<p>ifconfig 查看信息详细描述：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">### 网卡名称（代号）：</span><br><span class="line">enp0s3</span><br><span class="line">### 网卡的编号存在一定的规则（与其来源有关）：</span><br><span class="line">eno1：代表由主板 BIOS 内置的网卡;</span><br><span class="line">ens1：代表由主板 BIOS 内置的 PCI-E 网卡；</span><br><span class="line">enp2s0: PCI-E 独立网卡；</span><br><span class="line">eth0：如果以上都不使用，则回到默认网卡名(Ethernet)；</span><br><span class="line">virbr0/virbr0-nic：虚拟网络接口</span><br><span class="line"></span><br><span class="line">### 网络接入类型：</span><br><span class="line">Link encap：Ethernet（以太网）</span><br><span class="line"></span><br><span class="line">### 网卡的物理地址（MAC）：</span><br><span class="line">ether/HWaddr</span><br><span class="line"></span><br><span class="line">### 网络 IP 地址</span><br><span class="line">inet/inet addr</span><br><span class="line">### 子网掩码</span><br><span class="line">netmask/Mask</span><br><span class="line">### 广播地址</span><br><span class="line">broadcast/Bcast</span><br><span class="line"></span><br><span class="line">### IPV6 地址：</span><br><span class="line">inet6/inet6 addr</span><br><span class="line"></span><br><span class="line">### 最大传输单元（网络链路帧长限制）：</span><br><span class="line">MTU</span><br><span class="line">### 传送数据缓冲区大小</span><br><span class="line">txqueuelen</span><br><span class="line">### 跃点数（路由成本，通常表示到达目的地址的跳数）：</span><br><span class="line">Metric</span><br><span class="line"></span><br><span class="line">### 从网络启动开始，接收包的总数/总字节数：</span><br><span class="line">RX packets/bytes</span><br><span class="line">### 从网络启动开始，发送包的总数/总字节数：</span><br><span class="line">TX packets/bytes</span><br><span class="line"></span><br><span class="line">### 包碰撞情况（碰撞包越多，网络越不稳定）：</span><br><span class="line">collisions :表示的（如果碰撞的包很多，表明你的网络不太好）</span><br><span class="line"></span><br><span class="line">### 本机环回接口：</span><br><span class="line">lo</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><font color="red">↓↓↓↓↓↓ 重启网卡 ↓↓↓↓↓↓</font></p>
<p>常用于配置网卡信息后，重启网卡使得配置生效：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 关闭指定网卡:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 down</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动指定网卡:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 up</span></span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><font color="red">↓↓↓↓↓↓ 配置网卡信息 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 为 eth0 网卡 配置 &gt;&gt;&gt; IP 地址:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 192.168.1.56</span> </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 为 eth0 网卡 配置 &gt;&gt;&gt;IP 地址，子网掩码，广播地址:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 192.168.1.56 netmask 255.255.255.0 broadcast 192.168.1.255</span></span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><font color="red">↓↓↓↓↓↓ 配置和删除 IPv6 地址 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 为 eth0 网卡设置 IPv6 地址:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 add 33ffe:3240:800:1005::2/ 64</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 为 eth0 网卡删除 IPv6 地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 del 33ffe:3240:800:1005::2/ 64</span></span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><font color="red">↓↓↓↓↓↓ 修改 MAC 地址 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 关闭网卡:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 down</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改 MAC 地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 hw ether 00:AA:BB:CC:DD:EE</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重新启动网卡</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ifconfig eth0 up</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ip"><a href="#ip" class="headerlink" title="ip"></a>ip</h4><p>ip 命令更为全面复杂，其命令格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ip [OPTIONS] OBJECT &#123;COMMAND | <span class="built_in">help</span> &#125;</span></span><br></pre></td></tr></table></figure>

<p>其中，OBJECT 为常用对象（必选），其值：OBJECT={ link | addr | addrlabel | route | rule | neigh | ntable | tunnel | maddr | mroute | mrule | monitor | xfrm | token }。常用取值含义:</p>
<ul>
<li>link：网络设备；</li>
<li>addr：设备上的协议地址（IP/IPv6）；</li>
<li>addrlabel：协议地址选择的标签配置；</li>
<li>route：路由表条目；</li>
<li>rule：路由策略数据库中的规则。</li>
</ul>
<p>常用 OPTIONS 取值含义可见 <code>ip --help</code> 中说明。</p>
<p>Example：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 1. ip link ###</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示网络接口（网卡）信息</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip link show/list</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开启网卡</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip link <span class="built_in">set</span> eth0 up</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 关闭网卡</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip link <span class="built_in">set</span> eth0 down</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开启网卡的混合模式</span></span><br><span class="line">ip link set eth0 promisc on</span><br><span class="line"><span class="meta">#</span><span class="bash"> 关闭网卡的混个模式</span></span><br><span class="line">ip link set eth0 promisc offi</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置网卡队列长度</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip link <span class="built_in">set</span> eth0 txqueuelen 1200</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置网卡最大传输单元</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip link <span class="built_in">set</span> eth0 mtu 1400</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 2. ip addr ###</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示网卡 IP 信息</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip addr show/list</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置 eth0 网卡 IP 地址：192.168.0.1</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip addr add 192.168.0.1/24 dev eth0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除 eth0 网卡 IP 地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip addr del 192.168.0.1/24 dev eth0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 3. ip route ##</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示系统路由信息</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip route show/list</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置系统默认路由</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip route add default via 192.168.1.254</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置 192.168.4.0 网段的网关为 192.168.0.254，数据走 eth0 接口</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip route add 192.168.4.0/24  via  192.168.0.254 dev eth0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置默认网关为 192.168.0.254</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip route add default via  192.168.0.254  dev eth0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除 192.168.4.0 网段的网关</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip route del 192.168.4.0/24</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除默认路由</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip route del default</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除路由</span></span><br><span class="line">ip route delete 192.168.1.0/24 dev eth0</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="dhclient"><a href="#dhclient" class="headerlink" title="dhclient"></a>dhclient</h3><p><code>dhclient</code>（Dynamic Host Configuration Protocol Client）命令，可用于从 DHCP 服务器获取 IP Address &amp;&amp; NETMASK &amp;&amp; GATEWAY &amp;&amp; DNS 等网络信息，以支持让网卡动态获取网络配置。</p>
<blockquote>
<p>适用于大多数 Linux 发行版：Ubuntu、Debian、Fedora、CentOS 等，可以通过安装 <code>dhcp-client</code> 包，以解决 <code>not found</code> 问题。</p>
</blockquote>
<p>其命令格式如下：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dhclient [选项] [网络接口]</span><br></pre></td></tr></table></figure>

<p>其中，网络接口是指要配置的网卡；如果不指定网络接口，会尝试为所有可用的网络接口获取动态 IP。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p>下面来看 dhclient 的使用示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 为所有可用的网络接口获取动态 IP 地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo dhclient</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 为指定网络接口 eth0 获取 IP 地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo dhclient eth0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 为指定网络接口 eth0 获取 IP 地址，并显示日志信息：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo dhclient -v eth0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 释放指定 eth0 网络接口的 IP 地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo dhclient -r eth0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 不等待 DHCP 服务器的响应</span></span><br><span class="line">sudo dhclient -nw eth0</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 指定 DHCP 服务器的地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo dhclient -s 192.168.1.2 eth0</span></span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><font color="red">↓↓↓↓↓↓ 问题描述 ↓↓↓↓↓↓</font></p>
<p>DHCP 网络模式下，服务器重启后网络接口（网卡）无法动态获取 IP。</p>
<p>原因分析：</p>
<ul>
<li>NetworkManager 未开启自启动，导致 dhclient 进程未运行；</li>
<li>网卡设备未纳入 NetworkManager 管理导致</li>
</ul>
<p><font color="red">↓↓↓↓↓↓ 解决方法 ↓↓↓↓↓↓</font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. 确认 dhclient 是否运行：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps -ef |grep dhclient |grep -v grep</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. 如果未找到 dhclient 进程，则确认 dhclient 进程未运行。</span></span><br><span class="line"><span class="meta">#</span><span class="bash">    执行以下命令，继续排查 NetworkManager 是否运行：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl status NetworkManager</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2.1 如果 NetworkManager 的状态为 Active: inactive (dead)，则 NetworkManager 未启动。</span></span><br><span class="line"><span class="meta">#</span><span class="bash">     执行以下命令，检查该服务是否开机自启：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl is-enabled NetworkManager</span></span><br><span class="line"><span class="meta">#</span><span class="bash">     结果为 disabled 则确认为 NetworkManager 未设置开机自启导致。执行以下命令进行恢复：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl <span class="built_in">enable</span> NetworkManager &amp;&amp; systemctl start NetworkManager</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2.2 如果 NetworkManager 的状态为 Active: active (running)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">     执行以下命令查看网卡设备是否被 NetworkManager 管理:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nmcli device status</span></span><br><span class="line"><span class="meta">#</span><span class="bash">     如果显示该网卡为的 STATE 为 unmanaged，则该网卡设备未被 NetworkManager 管理。执行以下命令进行恢复：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nmcli device <span class="built_in">set</span> eth0 managed yes</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. 如果找到 dhclient 进程：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps -ef |grep dhclient |grep -v grep</span></span><br><span class="line">root      1096   965  0 21:10 ?        00:00:00 /sbin/dhclient -d -q -sf /usr/libexec/nm-dhcp-helper -pf /var/run/dhclient-enp0s3.pid -lf /var/lib/NetworkManager/dhclient-6620a662-540c-478d-bd15-9b47ed8ffec6-enp0s3.lease -cf /var/lib/NetworkManager/dhclient-enp0s3.conf enp0s3</span><br><span class="line"><span class="meta">#</span><span class="bash">    检查 2.2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 4. 执行以下命令重启 NetworkManager：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl restart NetworkManager</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 5. 执行以下命令查看 ip 是否已经获取：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ip addr</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="write-wall"><a href="#write-wall" class="headerlink" title="write/wall"></a>write/wall</h3><p><code>write</code> 命令用于向当前系统的另一个用户（必须登陆）发送信息，以 CTRL+D 作为结束；</p>
<p><code>wall</code> 命令用于向当前系统的所有用户（必须登陆）广播信息/文件，以 CTRL+D 作为结束；</p>
<hr>
<h2 id="System-Resource-Monitoring"><a href="#System-Resource-Monitoring" class="headerlink" title="System Resource Monitoring"></a>System Resource Monitoring</h2><p>Linux 系统中各种资源（Disk &amp; Memory &amp; CPU &amp; Process &amp; Ports）的监控和管理：</p>
<h3 id="df-du"><a href="#df-du" class="headerlink" title="df/du"></a>df/du</h3><p>df（Disk Free）&amp;&amp; du（Disk Usage），都是用来监控文件所占用的磁盘空间大小。</p>
<p><strong>[1] &gt;&gt;&gt; df</strong></p>
<p>df 是以磁盘分区为单位查看文件系统，以监控硬盘已使用了多少空间，还剩下多少空闲空间等信息。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> df -h</span></span><br><span class="line">Filesystem               Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                 903M     0  903M   0% /dev</span><br><span class="line">tmpfs                    919M     0  919M   0% /dev/shm</span><br><span class="line">tmpfs                    919M  9.2M  910M   2% /run</span><br><span class="line">tmpfs                    919M     0  919M   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root  8.0G  5.6G  2.5G  70% /</span><br><span class="line">/dev/sda1               1014M  238M  777M  24% /boot</span><br><span class="line">tmpfs                    184M   12K  184M   1% /run/user/42</span><br><span class="line">tmpfs                    184M     0  184M   0% /run/user/1000</span><br></pre></td></tr></table></figure>

<p>df 的使用较为简单，明确了磁盘中磁盘分区的使用容量后，就可以使用下面的 df 命令来具体分析：占满磁盘的都是什么文件？！！</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[2] &gt;&gt;&gt; du</strong></p>
<p>语法格式：<code>du [Options] [FILE/Dir]...</code>，其常用选项如下：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-a                              &gt;&gt;&gt;&gt; 显示目录中所有文件以及目录大小</span><br><span class="line"></span><br><span class="line">-h                              &gt;&gt;&gt;&gt; 以 Kb、Mb 、Gb 等人类易读（human）的单位显示大小（1024）</span><br><span class="line">--si                            &gt;&gt;&gt;&gt; 以 Kb、Mb 、Gb 等人类易读（human）的单位显示大小（1000）</span><br><span class="line"></span><br><span class="line">-c                              &gt;&gt;&gt;&gt; 显示目录大小，并额外显示总占用量</span><br><span class="line">-s                              &gt;&gt;&gt;&gt; 显示目录总大小</span><br><span class="line"></span><br><span class="line">-d（--max-depth=N）             &gt;&gt;&gt;&gt; 指定查看目录的深度</span><br><span class="line">--time                          &gt;&gt;&gt;&gt; 显示目录下最近修改文件的时间</span><br><span class="line"></span><br><span class="line">-t（--threshold=SIZE）          &gt;&gt;&gt;&gt; 过滤掉小于 SIZE 大小的文件以及目录</span><br><span class="line">--exclude=PATTERN               &gt;&gt;&gt;&gt; 过滤与 PATTERN 模式匹配的文件名或者目录名</span><br></pre></td></tr></table></figure>

<p>常用使用示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 显示指定目录下，所有目录大小：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du temp/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示指定目录下，所有目录以及目录下文件的大小（默认单位：KB）：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> $ du -a temp/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以人易读的方式，显示指定目录下所有目录大小：</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 1 MB = 1024 KB</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> $ du -h temp</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -ah temp</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 1 MB = 1000 KB</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du --si temp</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -a --si temp</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示所有目录大小，并额外显示总占用量</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> $ du -ch temp</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示指定深度（depth）的目录大小：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -d 0 temp/</span></span><br><span class="line">8.0K    temp/</span><br><span class="line"><span class="meta">$</span><span class="bash"> du -d 1 temp/</span></span><br><span class="line">4    temp/valid</span><br><span class="line">0    temp/test</span><br><span class="line">8    temp/</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash">$ du -ach --max-depth=1 temp</span></span><br><span class="line">4.0K    temp/valid</span><br><span class="line">0       temp/test</span><br><span class="line">0       temp/TEST.txt</span><br><span class="line">4.0K    temp/test.txt</span><br><span class="line">8.0K    temp</span><br><span class="line">8.0K    total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 按照文件大小过滤</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -ah -t 2k temp/</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -ah -t 8M temp/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 按照目录名或文件名过滤后，显示剩余文件所占磁盘容量：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -a --exclude=*.txt temp/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 占满磁盘的都是什么文件？！！ ###</span></span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment">#</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1. 当前目录下文件从大到小排序</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -sh temp/* | sort -hr</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 2. 当前目录以及子目录从大到小排序</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> du -ah temp/* | sort -hr</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 3. 磁盘占用最大的三个目录以及子目录</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> $ du -ah temp/* | sort -hr | head -n 3</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="free"><a href="#free" class="headerlink" title="free"></a>free</h3><p>free（空闲），用来监控操作系统中内存的使用情况，包括物理内存（Memory）&amp;&amp; 交换内存（Swap）&amp;&amp; 内核缓冲区内存（buff/cache）。</p>
<p>语法格式：<code>free [Options: h/s]</code>，其常用选项如下：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-h                                 &gt;&gt;&gt;&gt; 以 Kb、Mb 、Gb 等人类易读（human）的单位显示大小（1024）</span><br><span class="line">-s [seconds]                       &gt;&gt;&gt;&gt; 动态监控，每 [seconds] 秒显示一次，直至 Ctrl + c 退出</span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> free -h</span></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1.8G        373M        1.1G         11M        318M        1.3G</span><br><span class="line">Swap:          1.0G          0B        1.0G</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> $ free -h -s 2</span></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1.8G        374M        1.1G         11M        318M        1.3G</span><br><span class="line">Swap:          1.0G          0B        1.0G</span><br><span class="line"></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1.8G        374M        1.1G         11M        318M        1.3G</span><br><span class="line">Swap:          1.0G          0B        1.0G</span><br></pre></td></tr></table></figure>

<p>free 命令输出信息字段含义说明：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Mem Line                               &gt;&gt;&gt;&gt; 内存（Memory）的使用情况</span><br><span class="line">Swap Line                              &gt;&gt;&gt;&gt; 交换空间（Swap）的使用情况</span><br><span class="line"></span><br><span class="line">total                                  &gt;&gt;&gt;&gt; 显示系统总的可用 物理内存 和 交换空间 大小</span><br><span class="line">used                                   &gt;&gt;&gt;&gt; 显示已经被使用的 物理内存 和 交换空间</span><br><span class="line">free                                   &gt;&gt;&gt;&gt; 显示还有多少剩余 物理内存 和 交换空间 可用</span><br><span class="line">shared                                 &gt;&gt;&gt;&gt; 显示被共享使用的 物理内存 大小</span><br><span class="line">buff/cache                             &gt;&gt;&gt;&gt; 显示被 buffer 和 cache 使用的物理内存大小</span><br><span class="line">available                              &gt;&gt;&gt;&gt; 显示还可以被 应用程序 使用的 物理内存 大小</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p>👇👇👇 <strong>关于 Buffer/Cache</strong> 👇👇👇</p>
<p>思考一下 &gt;&gt;&gt; buffer 和 cache 是两种类型的内存，但 free 命令为什么会把它们放在一起呢？！！</p>
<p><strong>[1] &gt;&gt;&gt; buffer</strong></p>
<p>要理解 buffer（buffer cache）缓冲区，必须明确另外两个概念：”扇区” 和 “块”。</p>
<p>扇区是设备的最小寻址单元，也叫 “设备块”。块是操作系统中文件系统的最小寻址单元，也叫 “文件块” 或 “I/O 块”。每个块（Block）包含一个或多个扇区，但大小不能超过一个页面（Page），所以一个页可以容纳一个或多个内存中的块。</p>
<p>当一个块被调入内存时，它要存储在一个缓冲区中。每个缓冲区与一个块对应，它相当于是磁盘块在内存中的表示。</p>
<p>buffer cache 只有块的概念而没有文件的概念，它只是把磁盘上的块直接搬到内存中而不关心块中究竟存放的是什么格式的文件。</p>
<p><strong>[2] &gt;&gt;&gt; cache</strong></p>
<p>cache（page cache）页高速缓存，是内核实现的磁盘缓存。它主要用来减少对磁盘的 I/O 操作。具体地讲，是通过把磁盘中的数据缓存到物理内存中，把对磁盘的访问变为对物理内存的访问。页高速缓存缓存的是内存页面。缓存中的页来自对 <font color="red">普通文件、块设备文件（buffer cache）和 内存映射文件</font> 的读写。</p>
<ul>
<li><p><font color="red">页高速缓存对普通文件的缓存</font> &gt;&gt;&gt; 当内核要读一个文件（比如 /tmp/test）时，它会先检查这个文件的数据是不是已经在 Page Cache 中了：如果在（缓存命中），就放弃访问磁盘，直接从内存中读取；如果数据不在缓存中（未命中缓存），此时内核就要调度块 I/O 操作从磁盘去读取数据，然后内核将读来的数据放入 Page Cache 中。</p>
</li>
<li><p><font color="red">页高速缓存对块设备文件的缓存</font> &gt;&gt;&gt; 就是 buffer cahce，独立的磁盘块通过缓冲区也被存入了页高速缓存（缓冲区最终是由页高速缓存来承载的）。</p>
</li>
</ul>
<p><strong>可以发现</strong> &gt;&gt;&gt; 无论是缓冲区还是页高速缓存，它们的实现方式都是一样的（缓冲区只不过是一种概念上比较特殊的页高速缓存）。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p>👇👇👇 <strong>关于 Swap Space</strong> 👇👇👇</p>
<p>Swap Space（交换空间），可以是磁盘上的一个独立分区，也可以是一个文件。</p>
<p>当系统物理内存吃紧时，Linux 会将内存中不常访问的数据保存到 Swap 上，这样系统就有更多的物理内存为各个进程服务；而当系统需要访问 Swap 上存储的内容时，再将 Swap 上的数据加载到内存中，这就是常说的换出和换入。</p>
<p>交换空间可以在一定程度上缓解内存不足的情况，但由于需要读写磁盘，所以性能相较于内存读取较低~~~</p>
<hr>
<h3 id="top"><a href="#top" class="headerlink" title="top"></a>top</h3><p>top 是 Linux 中最常用的系统性能分析工具，能够实时显示系统中各个进程的资源占用情况。</p>
<p>其语法格式为 <code>ps [Options:d/b/n/p]</code>，常用选项如下：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-d number                              &gt;&gt;&gt;&gt; 表示页面刷新一次的时间间隔 (default=5s)</span><br><span class="line"></span><br><span class="line">-b                                     &gt;&gt;&gt;&gt; 表示以批次（batch）的方式执行 top</span><br><span class="line">-n                                     &gt;&gt;&gt;&gt; 与 -b 配合使用，表示需要进行几次（几个批次）输出</span><br><span class="line"></span><br><span class="line">-p                                     &gt;&gt;&gt;&gt; 指定特定的 pid 进程号进行观察</span><br></pre></td></tr></table></figure>

<p>top 命令显示的页面还可以输入以下按键执行相应的功能（注意大小写）：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">?                                      &gt;&gt;&gt;&gt; 显示可执行命令的帮助信息</span><br><span class="line"></span><br><span class="line">P                                      &gt;&gt;&gt;&gt; 以 CPU 的占用量排序显示（默认）</span><br><span class="line">M                                      &gt;&gt;&gt;&gt; 以 Memory 的使用资源排序显示</span><br><span class="line">N                                      &gt;&gt;&gt;&gt; 以 PID 排序显示</span><br><span class="line">T                                      &gt;&gt;&gt;&gt; 由进程的使用时间累计排序显示</span><br><span class="line"></span><br><span class="line">k                                      &gt;&gt;&gt;&gt; 给某个 PID 一个 kill 信号，可以用来杀死进程（9）</span><br><span class="line">r                                      &gt;&gt;&gt;&gt; 给某个 PID 重新定制一个 nice 值（优先级)</span><br><span class="line">q                                      &gt;&gt;&gt;&gt; 退出 top（Ctrl + c）</span><br></pre></td></tr></table></figure>

<p>top 各输出参数含义：</p>
<p><img src="https://s2.loli.net/2024/03/17/I6Aq3xLhOonzgpf.png"></p>
<p><strong>[1] &gt;&gt;&gt; top 前五条信息解释</strong></p>
<p><font color="red">top - 14:32:58 up  2:24,  1 user,  load average: 0.00, 0.00, 0.00</font></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">14:32:58                               &gt;&gt;&gt;&gt; 表示当前时间</span><br><span class="line">up  2:24                               &gt;&gt;&gt;&gt; 系统远行时间（格式为时：分）</span><br><span class="line">1 user                                 &gt;&gt;&gt;&gt; 当前登陆用户数</span><br><span class="line">load average: 0.00, 0.00, 0.00         &gt;&gt;&gt;&gt; 系统负载（任务队列的平均长度），分别为 1分钟 &amp; 5分钟 &amp; 15分钟前到当前的平均值</span><br></pre></td></tr></table></figure>

<p><font color="red">Tasks: 120 total,   1 running,  87 sleeping,   0 stopped,   0 zombie</font></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Tasks: 120 total                       &gt;&gt;&gt;&gt; 系统中进程总数</span><br><span class="line">1 running                              &gt;&gt;&gt;&gt; 正在运行的进程数</span><br><span class="line">87 sleeping                            &gt;&gt;&gt;&gt; 睡眠的进程数</span><br><span class="line">0 stopped                              &gt;&gt;&gt;&gt; 停止的进程数</span><br><span class="line">0 zombie                               &gt;&gt;&gt;&gt; 僵尸进程数</span><br></pre></td></tr></table></figure>

<p><font color="red">%Cpu(s):  0.0 us,  0.7 sy,  0.0 ni, 99.0 id,  0.0 wa,  0.0 hi,  0.3 si,  0.0 st</font></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0.0%us                                 &gt;&gt;&gt;&gt; 用户空间占用 CPU 百分比</span><br><span class="line">0.7 sy                                 &gt;&gt;&gt;&gt; 内核空间占用 CPU 百分比</span><br><span class="line">0.0 ni                                 &gt;&gt;&gt;&gt; 用户进程空间内改变过优先级的进程占用 CPU 百分比</span><br><span class="line">99.0 id                                &gt;&gt;&gt;&gt; 空闲 CPU 百分比</span><br><span class="line">0.0 wa                                 &gt;&gt;&gt;&gt; 等待输入输出的 CPU 时间百分比</span><br><span class="line">0.0 hi                                 &gt;&gt;&gt;&gt; 硬中断（Hardware IRQ）占用 CPU 的百分比</span><br><span class="line">0.3 si                                 &gt;&gt;&gt;&gt; 软中断（Software Interrupts）占用 CPU 的百分比</span><br><span class="line">0.0 st                                 &gt;&gt;&gt;&gt; 用于有虚拟 CPU 的情况，用来指示被虚拟机偷掉的 CPU 时间</span><br></pre></td></tr></table></figure>

<p><font color="red">KiB Mem :  2041020 total,  1587728 free,   159148 used,   294144 buff/cache</font></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2041020 total                          &gt;&gt;&gt;&gt; 物理内存总量</span><br><span class="line">1587728  free                          &gt;&gt;&gt;&gt; 空闲内存总量</span><br><span class="line">159148 used                            &gt;&gt;&gt;&gt; 已使用的物理内存总量</span><br><span class="line">294144 buff/cache                      &gt;&gt;&gt;&gt; 内核缓存的内存量</span><br></pre></td></tr></table></figure>

<p><font color="red">KiB Swap:   998396 total,   998396 free,        0 used.  1717548 avail Mem</font></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">998396 total                           &gt;&gt;&gt;&gt; 交换区总量</span><br><span class="line">998396 free                            &gt;&gt;&gt;&gt; 空闲交换区总量</span><br><span class="line">0 used                                 &gt;&gt;&gt;&gt; 已使用的交换区总量</span><br><span class="line">1717548 avail Mem                      &gt;&gt;&gt;&gt; 应用程序可用交换空间容量</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[2] &gt;&gt;&gt; 进程信息字段含义</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">PID                                    &gt;&gt;&gt;&gt; 进程 ID</span><br><span class="line">USER                                   &gt;&gt;&gt;&gt; 进程所有者的用户名</span><br><span class="line"></span><br><span class="line">PR                                     &gt;&gt;&gt;&gt; 进程优先级</span><br><span class="line">NI                                     &gt;&gt;&gt;&gt; nice 优先级值（负值表示高，正值表示低优先级）</span><br><span class="line"></span><br><span class="line">VIRT                                   &gt;&gt;&gt;&gt; 进程使用的虚拟内存总量（KB），VIRT = SWAP + RES</span><br><span class="line">RES                                    &gt;&gt;&gt;&gt; 进程使用的、未被换出的物理内存大小（KB），RES = CODE + DATA</span><br><span class="line">SHR                                    &gt;&gt;&gt;&gt; 共享内存大小（KB）</span><br><span class="line">S                                      &gt;&gt;&gt;&gt; 进程状态（D/R/S/T/ZW/X/l）</span><br><span class="line">%CPU                                   &gt;&gt;&gt;&gt; 上次更新到现在的 CPU 时间占用百分比</span><br><span class="line">%MEM                                   &gt;&gt;&gt;&gt; 进程使用的物理内存百分比</span><br><span class="line">TIME+                                  &gt;&gt;&gt;&gt; 进程使用的 CPU 时间总计（单位 1/100 秒）</span><br><span class="line">COMMAND                                &gt;&gt;&gt;&gt; 命令名/命令行</span><br></pre></td></tr></table></figure>

<hr>
<p>/netstat</p>
<hr>
<p>mount\wget\curl\</p>
<p>ssh\scp</p>
<hr>
<h2 id="Process-Management"><a href="#Process-Management" class="headerlink" title="Process Management"></a>Process Management</h2><p>Linux 中的各种进程管理命令：</p>
<h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><p>ps（Process Status），是 Linux 最常用的进程监控命令，可以查看系统中所有运行进程的详细信息。</p>
<p>首先来查看一下 man ps 中的描述：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">PS(1)                                                                                User Commands                                                                                PS(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       ps - report a snapshot of the current processes.</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       ps [options]</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       ps displays information about a selection of the active processes.  If you want a repetitive update of the selection and the displayed information, use top(1) instead.</span><br><span class="line"></span><br><span class="line">       This version of ps accepts several kinds of options:</span><br><span class="line"></span><br><span class="line">       1   UNIX options, which may be grouped and must be preceded by a dash.</span><br><span class="line">       2   BSD options, which may be grouped and must not be used with a dash.</span><br><span class="line">       3   GNU long options, which are preceded by two dashes.</span><br></pre></td></tr></table></figure>

<p>描述（DESCRIPTION）中可以看到，Linux 中 ps 支持 UNIX、BSD、GUN 三种风格的语法：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UNIX 风格                          &gt;&gt;&gt;&gt; UNIX 选项可以组合在一起，并且选项前必须有 “-” 连字符</span><br><span class="line">BSD 风格                           &gt;&gt;&gt;&gt; BSD 是 Unix 的一个分支，选项可以组合在一起，但是选项前不能有 “-” 连字符</span><br><span class="line">GNU 风格                           &gt;&gt;&gt;&gt; GUN Linux 长选项，选项前有两个 “-” 连字符</span><br></pre></td></tr></table></figure>

<p>多种风格语法要归咎于 UNIX 悠久的历史和庞大的派系（不同的 Linux 发行版上，ps 命令的语法各不相同），Linux 融合各种不同的风格，以兼顾习惯在不同的 Linux 发行版上使用 ps 命令的用户。</p>
<p>其语法格式为 <code>ps [Options]</code>，常用选项如下：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a                                   &gt;&gt;&gt;&gt; 显示终端上的所有进程（包括其他用户的进程）</span><br><span class="line">u                                   &gt;&gt;&gt;&gt; 显示进程的归属用户及内存的使用情况</span><br><span class="line">x                                   &gt;&gt;&gt;&gt; 显示没有控制终端的进程</span><br><span class="line"></span><br><span class="line">-e                                  &gt;&gt;&gt;&gt; 显示所有进程</span><br><span class="line">-l                                  &gt;&gt;&gt;&gt; 长格式显示更加详细的信息</span><br><span class="line">-f                                  &gt;&gt;&gt;&gt; 全格式列表（会打印详细命令参数）；当与 -L 一起使用时，将添加 NLWP（线程数）和 LWP（线程 ID）列 &lt;&lt;&lt; Light Weight Process（轻量级进程）</span><br><span class="line"></span><br><span class="line">-u                                  &gt;&gt;&gt;&gt; 显示指定用户的所有进程</span><br></pre></td></tr></table></figure>

<p>ps 命令格式非常多，这里 <font color="orange">推荐记忆几个固定选项组合（足够日常使用）</font>：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ps aux                              &gt;&gt;&gt;&gt; 可以查看系统中所有的进程</span><br><span class="line"></span><br><span class="line">ps -le                              &gt;&gt;&gt;&gt; 可以查看系统中所有的进程，而且还能看到进程的父进程的 PID 和进程优先级</span><br><span class="line">ps -ef                              &gt;&gt;&gt;&gt; 同 le 相似</span><br><span class="line">ps -l                               &gt;&gt;&gt;&gt; 只能看到当前 Shell 产生的进程</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p>使用实例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看所有进程时，配合 more &amp;&amp; head 命令进行查看：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps aux | more</span></span><br><span class="line">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash">$ ps -ef | head -n 5</span></span><br><span class="line">UID        PID  PPID  C STIME TTY          TIME CMD</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash">$ ps -el | head -n 5</span></span><br><span class="line">F S   UID   PID  PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看当前 Shell 登录产生的进程</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> $ ps -l</span></span><br><span class="line">F S   UID   PID  PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD</span><br><span class="line">0 S  1000  1889  1888  0  80   0 - 29082 do_wai pts/0    00:00:00 bash</span><br><span class="line">0 R  1000  2233  1889  0  80   0 - 38338 -      pts/0    00:00:00 ps</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 可见，当前从 pts/0 虚拟终端登录，只产生了两个进程：一个是登录之后生成的 Shell：bash；另一个是正在执行的 ps 命令。</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找特定名称的进程信息</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps -ef | grep ssh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps -aux | grep ssh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps aux | grep ssh</span></span><br><span class="line">root      1290  0.0  0.2 112924  4316 ?        Ss   12:09   0:00 /usr/sbin/sshd -D</span><br><span class="line">root      1831  0.0  0.3 161000  5740 ?        Ss   12:10   0:00 sshd: centos [priv]</span><br><span class="line">centos    1888  0.1  0.1 161000  2668 ?        S    12:10   0:00 sshd: centos@pts/0</span><br><span class="line">centos    2293  0.0  0.0 112816   972 pts/0    S+   12:21   0:00 grep --color=auto ssh</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># grep -v grep 可以去除包含 grep 的进程行，只保留特定进程的相关信息</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps -ef | grep ssh | grep -v grep</span></span><br><span class="line">root      1290     1  0 12:09 ?        00:00:00 /usr/sbin/sshd -D</span><br><span class="line">root      1831  1290  0 12:10 ?        00:00:00 sshd: centos [priv]</span><br><span class="line">centos    1888  1831  0 12:10 ?        00:00:01 sshd: centos@pts/0</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 查找特定 PID 的进程信息</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps -p &lt;process_id&gt; -lf</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># 显示指定用户的进程</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> $ ps -u root</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看进程排序后的信息（以第三列 &gt;&gt;&gt; CPU 资源的使用量，进行排序）：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ps -aux | sort -nk 3</span></span><br></pre></td></tr></table></figure>

<p>ps 命令输出信息字段含义说明：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">USER          &gt;&gt;&gt;&gt; 进程所有者的用户名</span><br><span class="line">PID           &gt;&gt;&gt;&gt; 进程ID（Process ID）</span><br><span class="line">START         &gt;&gt;&gt;&gt; 进程激活时间</span><br><span class="line">%CPU          &gt;&gt;&gt;&gt; 进程的cpu占用率</span><br><span class="line">%MEM          &gt;&gt;&gt;&gt; 进程使用内存的百分比</span><br><span class="line">VSZ           &gt;&gt;&gt;&gt; 进程使用的虚拟内存大小，以K为单位</span><br><span class="line">RSS           &gt;&gt;&gt;&gt; 驻留空间的大小。显示当前常驻内存的程序的K字节数。</span><br><span class="line">TTY           &gt;&gt;&gt;&gt; 与进程关联的终端（tty）</span><br><span class="line">STAT          &gt;&gt;&gt;&gt; 进程状态，包括下面的状态： </span><br><span class="line">                          D    不可中断     Uninterruptible sleep (usually IO)</span><br><span class="line">                          R    正在运行，或在队列中的进程</span><br><span class="line">                          S    处于休眠状态</span><br><span class="line">                          T    停止或被追踪</span><br><span class="line">                          Z    僵尸进程</span><br><span class="line">                          W    进入内存交换（从内核2.6开始无效）</span><br><span class="line">                          X    死掉的进程</span><br><span class="line">                          &lt;    高优先级</span><br><span class="line">                          N    低优先级</span><br><span class="line">                          L    有些页被锁进内存</span><br><span class="line">                          s    包含子进程</span><br><span class="line">                          \+   位于后台的进程组；</span><br><span class="line">                          l    多线程，克隆线程</span><br><span class="line"></span><br><span class="line">TIME          &gt;&gt;&gt;&gt; 进程使用的总CPU时间</span><br><span class="line">COMMAND       &gt;&gt;&gt;&gt; 被执行的命令行</span><br><span class="line">NI            &gt;&gt;&gt;&gt; 进程的优先级值，较小的数字意味着占用较少的CPU时间</span><br><span class="line">PRI           &gt;&gt;&gt;&gt; 进程优先级。</span><br><span class="line">PPID          &gt;&gt;&gt;&gt; 父进程ID</span><br><span class="line">WCHAN         &gt;&gt;&gt;&gt; 进程等待的内核事件名</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="jobs-fg-bg-amp-kill-disown-nohup"><a href="#jobs-fg-bg-amp-kill-disown-nohup" class="headerlink" title="jobs/fg/bg/&amp;/kill/disown/nohup"></a>jobs/fg/bg/&amp;/kill/disown/nohup</h3><p>在 Linux 服务器上运行程序，通过会通过一个连接到 Linux Server 的 Shell 中启动程序（交互进程），此时系统中会创建一个运行于前台的进程。而为了避免其它用户因操作失误使得我们的进程被关闭，我们希望可以将进程转到后台运行。</p>
<p>这就涉及到 Linux 系统的任务（Job）/进程（Process）管理了，主要用到：jobs/fg/bg/&amp;/kill/disown/nohup 等相关的命令。</p>
<p>这里，我们将通过一个具体的任务，来讲解 Linux 系统中的任务（Job）/进程（Process）管理命令。</p>
<p>我们会使用名为 <code>running.sh</code> 的 shellscript 作为演示程序，其功能是每隔 1 秒输出一次当前日期与时间：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cat running.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">while True;</span><br><span class="line">do</span><br><span class="line">    date +&quot;PID[$$] : the current date and time is %F %T&quot;</span><br><span class="line">    sleep 1s</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>其中，方括号内的 <code>$$</code> 用于获取当前 shellscript 运行的进程 ID。</p>
<hr>
<h4 id="jobs-任务管理指令"><a href="#jobs-任务管理指令" class="headerlink" title="jobs 任务管理指令"></a>jobs 任务管理指令</h4><p>首先，尝试运行（启动）一下 running.sh：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bash running.sh</span></span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 16:17:36</span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 16:17:37</span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 16:17:38</span><br></pre></td></tr></table></figure>

<p>像上面这样启动的脚本，被称为 <font color="orange">“前台任务（Foreground Job）”</font>。它会独占 Shell 窗口，一直输出日志信息，只有运行结束或者手动挂起/终止，才能再执行其他命令。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[1] &gt;&gt;&gt; Ctrl + C &amp;&amp; CTRL + Z</strong></p>
<p>此时想要执行其他命令，只需按下键盘上的 <code>Ctrl + c</code> 即可终止程序执行（kill）。如果你不想结束程序运行，也可以通过 <code>Ctrl + z</code> 让程序暂停运行（halt）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PID[5322] : the current date and time is 2024-03-17 16:17:42</span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 16:17:43</span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 16:17:44</span><br><span class="line">^Z</span><br><span class="line">[1]+  Stopped                 bash running.sh</span><br></pre></td></tr></table></figure>

<p>这时屏幕上停止了日志信息输出，Shell 重新处于交互状态，可以自由输入命令，尝试输入如下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">jobs</span> 命令说明：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">jobs</span>                              &gt;&gt;&gt;&gt; 显示所有任务</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -l                                &gt;&gt;&gt;&gt; 显示进程号</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -lr                               &gt;&gt;&gt;&gt; 仅显示运行状态（Running）的任务</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -ls                               &gt;&gt;&gt;&gt; 仅显示停止状态（Stoped）的任务</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash">$ <span class="built_in">jobs</span> -l</span></span><br><span class="line">[1]+  5322 Stopped                 bash running.sh</span><br></pre></td></tr></table></figure>

<p>其中，<code>[1]</code> 表示任务 ID；数字 <code>5322</code> 为当前启动进程的进程号( PID )；<code>Stopped</code> 为任务状态；<code>bash running.sh</code> 为任务名（进程名）。</p>
<p>再来查看一下当前 Stopped 任务状态所对应进程的状态（T &gt;&gt;&gt; 停止）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ps -lf -p 5322</span></span><br><span class="line">F S UID        PID  PPID  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD</span><br><span class="line">0 T centos    5322  1889  0  80   0 - 28321 do_sig 16:17 pts/0    00:00:00 bash running.sh</span><br></pre></td></tr></table></figure>

<p>事实上，<font color="orange">此时（Ctrl + z），之前前台运行的任务已被移至后台暂停，变为了 “后台任务（Background Job）”</font>，程序不再继承标准输入（stdin）了，这也就解释为什么 Shell 中又支持输入了。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[2] &gt;&gt;&gt; fg/bg %jobid</strong></p>
<p>命令 <code>fg %jobid</code> 可以将后台中任务 ID 为 jobid 的进程调至前台继续运行；如不加 jobid，则操作最近一个被放入后台的任务。</p>
<p>而 <code>bg %jobid</code> 命令是唤醒后台中任务 ID 为 jobid 的暂停进程，让其继续执行。如不加 jobid，则唤醒最近一个被暂停的后台任务。</p>
<p>回到上面的示例，bash running.sh 已经成为一个后台任务并被暂停了，重新唤醒一下它：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">bg</span> 1</span></span><br><span class="line">[1]+ bash running.sh &amp;</span><br><span class="line">[centos@localhost temp]$ PID[5322] : the current date and time is 2024-03-17 17:40:36</span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 17:40:37</span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 17:40:38</span><br><span class="line">PID[5322] : the current date and time is 2024-03-17 17:40:39</span><br></pre></td></tr></table></figure>

<p>这时会先输出一句 <code>[1]+ bash running.sh &amp;</code>，其中 <strong>&amp;</strong> 表示工作 ID 为 1 的 bash running.sh 在后台运行。</p>
<p>虽然后台任务不再继承标准输入，但其仍然继承标准输出（Stdout）和标准错误（Stderr），<font color="orange">后台任务的所有输出依然会同步地在 Shell 下显示。</font></p>
<p>虽然 Shell 终端中一直有输出，但 此时 <font color="orange">Shell 处于交互状态（interactive），可以执行其它命令或程序</font>。此时，输入命令或执行其它程序非常难受（后台程序不断的在屏幕上输出日志信息），但只要正确输入，就不会有问题 。</p>
<p>你可以通过 fg 命令将其调入前台：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">fg</span></span></span><br><span class="line">bash running.sh</span><br><span class="line">PID[6432] : the current date and time is 2024-03-17 17:57:41</span><br><span class="line">PID[6432] : the current date and time is 2024-03-17 17:57:42</span><br><span class="line">PID[6432] : the current date and time is 2024-03-17 17:57:43</span><br></pre></td></tr></table></figure>

<p>其中，先输出一句 <code>bash running.sh</code>，表明程序已经来到前台运行。</p>
<p><font color="red">↓↓↓↓↓↓ 需要注意 ↓↓↓↓↓↓</font></p>
<p>后台任务不断的在屏幕上输出日志信息，可能会给你一种错觉：想通过 <code>Ctrl + c &amp;&amp; Ctrl + z</code> 终止或挂起后台程序，以阻止其输出。</p>
<p>后台程序会忽略 <code>Ctrl + c</code> 与 <code>Ctrl + z</code> 发出的终止或挂起信号（SIGNAL）。</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p><strong>[3] &gt;&gt;&gt; 输出重定向</strong></p>
<p>上面 running.sh 放在后台运行，不断的在屏幕上输出日志信息。虽然方便我们观察程序输出，但防碍了继续利用当前 Shell 进行工作；即使当前不进行其它工作，对于长时间的 Shell 连接输出也容易出现问题。</p>
<p>此时，可以使用重定向命令，改变日志信息输出位置将其写到文件里面去：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 将标准输出 1 定向输出到 file.out，标准错误输出 2 定向输出到 file.err</span><br><span class="line">$ bash running.sh 1&gt; file.out 2&gt; file.err</span><br><span class="line"></span><br><span class="line"># 或者将标准输出 1 与标准错误输出 2 合并定向到 file.all</span><br><span class="line">$ bash running.sh 1&gt; file.all 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"># 只把标准输出 1 定向输出到 file.out，标准错误输出 2 还是保持输出到屏幕</span><br><span class="line">$ bash running.sh 1&gt; file.out</span><br><span class="line"></span><br><span class="line"># 如果重定向输出 &gt; 符号前没有加描述符，默认为标准输出 1</span><br><span class="line">$ bash running.sh &gt; file.out</span><br><span class="line"></span><br><span class="line"># 重定向输出到 /dev/null（/dev/null 就像一个无底洞，可以无限往里面扔东西，坏处就是程序输出了啥也不知道）</span><br><span class="line">$ bash running.sh &gt; /dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<p>关于输出重定向更详细的说明和使用，请参见【<a href="https://www.orangeshare.cn/2015/02/01/yi-wen-jie-xi-linux-zhong-de-wen-jian-miao-shu-fu-yu-shu-ru-shu-chu-chong-ding-xiang/">一文解析 Linux 中的文件描述符与输入输出重定向</a>】中描述，这里由于篇幅原因不进行赘述！！！</p>
<hr>
<h2 id="Shell-Tips"><a href="#Shell-Tips" class="headerlink" title="Shell Tips"></a>Shell Tips</h2><p>Shell 是内核之上，负责 Linux 内核进行交互的工具，也就是我们常说的命令行窗口。常用的 Shell 命令窗口有： bash（Bashell） &amp;&amp; zsh（ZShell）&amp;&amp; csh …</p>
<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<h3 id="AutoCompletion-amp-CMD-History"><a href="#AutoCompletion-amp-CMD-History" class="headerlink" title="AutoCompletion &amp; CMD History"></a>AutoCompletion &amp; CMD History</h3><p>Auto Completion（自动补全），允许用户输入系统命令 &amp;&amp; 文件名 起始的若干字符后，&lt;Tab&gt; 键自动补全命令 &amp;&amp; 文件名。</p>
<p>大多数 Linux 系统中，Bash 自动补全插件已经预先安装了。如果系统中没有预先安装，你可以使用以下命令进行安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> For Debian/Ubuntu</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install bash-completion</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> For CentOS/RHEL</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo yum install bash-completion</span></span><br></pre></td></tr></table></figure>

<p>Command History（Command History），则允许用户浏览先前执行过的命令，并且通过 &lt;↑、↓&gt; 键重新调用它们。</p>
<hr>
<h3 id="Command-Alias"><a href="#Command-Alias" class="headerlink" title="Command Alias"></a>Command Alias</h3><p>命令别名（Command Alias）就是为一条命令定义另一个名称，执行这个新的名称就相当于执行这条命令。</p>
<p>命令别名（Command Alias）主要是针对复杂、需频繁使用的命令，以简化其调用。</p>
<p>你可以通过如下命令查看当前用户（root）设置的所有命令别名：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost temp]# alias -p</span><br><span class="line">alias cp=&#x27;cp -i&#x27;</span><br><span class="line">alias egrep=&#x27;egrep --color=auto&#x27;</span><br><span class="line">alias fgrep=&#x27;fgrep --color=auto&#x27;</span><br><span class="line">alias grep=&#x27;grep --color=auto&#x27;</span><br><span class="line">alias l.=&#x27;ls -d .* --color=auto&#x27;</span><br><span class="line">alias ll=&#x27;ls -l --color=auto&#x27;</span><br><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">alias mv=&#x27;mv -i&#x27;</span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">alias which=&#x27;alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde&#x27;</span><br></pre></td></tr></table></figure>

<p><font color="red">↓↓↓↓↓↓ 如何设置/删除命令别名？！！ ↓↓↓↓↓↓</font></p>
<p>命令别名设置非常简单，其格式为：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias [别名]=[需要别名的命令]</span><br></pre></td></tr></table></figure>

<p>需要注意 &gt;&gt;&gt;&gt; 等号两边不要空格，若命令包含空格，则一定要用单引号对 ‘’ 引起来。假设为 <code>ls -al</code> 设置别名 <code>lal</code>，Shell 中执行如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">alias</span> lal=<span class="string">&#x27;ls -al&#x27;</span></span></span><br></pre></td></tr></table></figure>

<p>删除别名也非常简单，Shell 中执行如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">unalias</span> lal</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> lal</span></span><br><span class="line">bash: lal: command not found...</span><br></pre></td></tr></table></figure>

<p>| ================================================== <strong>Split Line</strong> =============================================== |</p>
<p>通过上面的方法设置命令别名后，只在当前 Shell 中生效。一旦 Shell 重启后就无法使用了…</p>
<p><font color="red">↓↓↓↓↓↓ 使命令别名永久生效 ↓↓↓↓↓↓</font></p>
<p>如果想要文件永久生效，需要将上述别名命令写到 <code>bashrc</code> 用户 Shell 配置文件中，详细如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/bashrc                    &gt;&gt;&gt;&gt; 适用于所有用户</span><br><span class="line">/root/.bashrc                  &gt;&gt;&gt;&gt; 适用于超级管理员用户（root）</span><br><span class="line">/home/[username]/.bashrc       &gt;&gt;&gt;&gt; 适用于一般用户（username）</span><br></pre></td></tr></table></figure>

<p>需要注意 &gt;&gt;&gt;&gt; rc（run commands）结尾的配置文件（如：.bashrc/.vimrc），是特定程序每次启动时自动运行的脚本文件。</p>
<p>不要将设置永久生效别名的命令写到 <code>/etc/profile</code> 文件中，参看其文件说明：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># /etc/profile</span><br><span class="line"></span><br><span class="line"># System wide environment and startup programs, for login setup</span><br><span class="line"># Functions and aliases go in /etc/bashrc</span><br><span class="line"></span><br><span class="line"># It&#x27;s NOT a good idea to change this file unless you know what you</span><br><span class="line"># are doing. It&#x27;s much better to create a custom.sh shell script in</span><br><span class="line"># /etc/profile.d/ to make custom changes to your environment, as this</span><br><span class="line"># will prevent the need for merging in future updates.</span><br></pre></td></tr></table></figure>

<p>关于 <code>/etc/profile</code> 配置文件主要用于配置系统环境变量（Java &amp; Python…）和启动程序相关。</p>
<hr>
<h3 id="I-O-Redirection"><a href="#I-O-Redirection" class="headerlink" title="I/O Redirection"></a>I/O Redirection</h3><hr>
</div><div class="article-licensing box"><div class="licensing-title"><p>Linux Instruction Usage Guide</p><p><a href="https://www.orangeshare.cn/2015/02/01/linux-instruction-usage-guide/">https://www.orangeshare.cn/2015/02/01/linux-instruction-usage-guide/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Waldeinsamkeit</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2015-02-01</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2024-03-17</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Operate-System/">Operate System</a></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2015/02/01/yi-wen-jie-xi-linux-zhong-de-wen-jian-miao-shu-fu-yu-shu-ru-shu-chu-chong-ding-xiang/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">一文解析 Linux 中的文件描述符与输入输出重定向</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2015/01/29/linux-disk-partitions-and-file-systems/"><span class="level-item">Linux Disk Partitions And File Systems</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen  order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Waldeinsamkeit"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Waldeinsamkeit</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">118</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">43</p></a></div></div></nav></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#The-Basics"><span class="level-left"><span class="level-item">1</span><span class="level-item">The Basics</span></span></a></li><li><a class="level is-mobile" href="#File-Processing"><span class="level-left"><span class="level-item">2</span><span class="level-item">File Processing</span></span></a></li><li><a class="level is-mobile" href="#Command-Help"><span class="level-left"><span class="level-item">3</span><span class="level-item">Command Help</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Command-–help"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Command –help</span></span></a></li><li><a class="level is-mobile" href="#man-info"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">man/info</span></span></a></li><li><a class="level is-mobile" href="#whatis-apropos"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">whatis/apropos</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Permission-Management"><span class="level-left"><span class="level-item">4</span><span class="level-item">Permission Management</span></span></a></li><li><a class="level is-mobile" href="#File-Search"><span class="level-left"><span class="level-item">5</span><span class="level-item">File Search</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#find"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">find</span></span></a></li><li><a class="level is-mobile" href="#grep"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">grep</span></span></a></li><li><a class="level is-mobile" href="#which-whereis"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">which/whereis</span></span></a></li><li><a class="level is-mobile" href="#locate-updatedb"><span class="level-left"><span class="level-item">5.4</span><span class="level-item">locate/updatedb</span></span></a></li></ul></li><li><a class="level is-mobile" href="#File-Decompression"><span class="level-left"><span class="level-item">6</span><span class="level-item">File Decompression</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#gzip-gunzip"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">gzip/gunzip</span></span></a></li><li><a class="level is-mobile" href="#tar"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">tar</span></span></a></li><li><a class="level is-mobile" href="#zip-unzip"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">zip/unzip</span></span></a></li><li><a class="level is-mobile" href="#bzip2-bunzip2"><span class="level-left"><span class="level-item">6.4</span><span class="level-item">bzip2/bunzip2</span></span></a></li></ul></li><li><a class="level is-mobile" href="#View-Linux-Distr-Version-Info"><span class="level-left"><span class="level-item">7</span><span class="level-item">View Linux-Distr Version Info</span></span></a></li><li><a class="level is-mobile" href="#Network-Communication"><span class="level-left"><span class="level-item">8</span><span class="level-item">Network Communication</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ping"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">ping</span></span></a></li><li><a class="level is-mobile" href="#ip-ifconfig"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">ip/ifconfig</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ifconfig"><span class="level-left"><span class="level-item">8.2.1</span><span class="level-item">ifconfig</span></span></a></li><li><a class="level is-mobile" href="#ip"><span class="level-left"><span class="level-item">8.2.2</span><span class="level-item">ip</span></span></a></li></ul></li><li><a class="level is-mobile" href="#dhclient"><span class="level-left"><span class="level-item">8.3</span><span class="level-item">dhclient</span></span></a></li><li><a class="level is-mobile" href="#write-wall"><span class="level-left"><span class="level-item">8.4</span><span class="level-item">write/wall</span></span></a></li></ul></li><li><a class="level is-mobile" href="#System-Resource-Monitoring"><span class="level-left"><span class="level-item">9</span><span class="level-item">System Resource Monitoring</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#df-du"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">df/du</span></span></a></li><li><a class="level is-mobile" href="#free"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">free</span></span></a></li><li><a class="level is-mobile" href="#top"><span class="level-left"><span class="level-item">9.3</span><span class="level-item">top</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Process-Management"><span class="level-left"><span class="level-item">10</span><span class="level-item">Process Management</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ps"><span class="level-left"><span class="level-item">10.1</span><span class="level-item">ps</span></span></a></li><li><a class="level is-mobile" href="#jobs-fg-bg-amp-kill-disown-nohup"><span class="level-left"><span class="level-item">10.2</span><span class="level-item">jobs/fg/bg/&amp;/kill/disown/nohup</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#jobs-任务管理指令"><span class="level-left"><span class="level-item">10.2.1</span><span class="level-item">jobs 任务管理指令</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Shell-Tips"><span class="level-left"><span class="level-item">11</span><span class="level-item">Shell Tips</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#AutoCompletion-amp-CMD-History"><span class="level-left"><span class="level-item">11.1</span><span class="level-item">AutoCompletion &amp; CMD History</span></span></a></li><li><a class="level is-mobile" href="#Command-Alias"><span class="level-left"><span class="level-item">11.2</span><span class="level-item">Command Alias</span></span></a></li><li><a class="level is-mobile" href="#I-O-Redirection"><span class="level-left"><span class="level-item">11.3</span><span class="level-item">I/O Redirection</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="When Art Meets Tech" height="28"></a><p class="is-size-7"><span>&copy; 2024 Waldeinsamkeit</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>